!function(t,e){"use strict";function i(t){return t.replace(/^\s+|\s+$/g,"")}function s(t,e){var i,s=0;if(!t||!e)return!1;for(;i=e[s++];)if(t===i)return!0;return!1}function n(t){return l.test(t)}function r(t){var e,i=0;for(this._rules=[];e=t[i++];)this._rules.push(new o(e))}function o(t){this._rule=t}function a(t){return this instanceof a?(this._options=t,t.keywords||(this._options={keywords:t}),this._promise=[],this._getStylesheets(),this._downloadStylesheets(),this._parseStylesheets(),this._filterCSSByKeywords(),this._buildMediaQueryMap(),this._reportInitialMatches(),void this._addMediaListeners()):new a(t)}var l=RegExp("^"+({}.valueOf+"").replace(/[.*+?\^${}()|\[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),h=function(){var t=e.getElementsByTagName("base")[0],i=/^([a-zA-Z:]*\/\/)/;return function(e){var s=!i.test(e)&&!t||e.replace(RegExp.$1,"").split("/")[0]===location.host;return s}}(),u={matchMedia:t.matchMedia&&t.matchMedia("only all").matches,nativeMatchMedia:n(t.matchMedia)},c=function(){function e(t){for(var e,i=0;e=t[i++];)l[e]||s(e,h)||h.push(e)}function i(){if(0===d.readyState||4===d.readyState){var t;(t=h[0])&&n(t),t||o()}}function n(t){c++,d.open("GET",t,!0),d.onreadystatechange=function(){4!=d.readyState||200!=d.status&&304!=d.status||(l[t]=d.responseText,h.shift(),i())},d.send(null)}function r(t){for(var e,i=0,s=0;e=t[i++];)l[e]&&s++;return s===t.length}function o(){for(var t;t=u.shift();)a(t.urls,t.fn)}function a(t,e){for(var i,s=[],n=0;i=t[n++];)s.push(l[i]);e.call(null,s)}var l={},h=[],u=[],c=0,d=function(){var e;try{e=new t.XMLHttpRequest}catch(i){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return e}();return{request:function(t,s){u.push({urls:t,fn:s}),r(t)?o():(e(t),i())},clearCache:function(){l={}},_getRequestCount:function(){return c}}}(),d={_cache:{},clearCache:function(){d._cache={}},parse:function(t,e){function s(){return o(/^\{\s*/)}function n(){return o(/^\}\s*/)}function r(){var e,i=[];for(a(),l(i);"}"!=t.charAt(0)&&(e=P()||C());)i.push(e),l(i);return i}function o(e){var i=e.exec(t);return i?(t=t.slice(i[0].length),i):void 0}function a(){o(/^\s*/)}function l(t){t=t||[];for(var e;e=h();)t.push(e);return t}function h(){if("/"==t[0]&&"*"==t[1]){for(var e=2;"*"!=t[e]||"/"!=t[e+1];)++e;e+=2;var i=t.slice(2,e-2);return t=t.slice(e),a(),{comment:i}}}function u(){var t=o(/^([^{]+)/);return t?i(t[0]).split(/\s*,\s*/):void 0}function c(){var t=o(/^(\*?[\-\w]+)\s*/);if(t&&(t=t[0],o(/^:\s*/))){var e=o(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)\s*/);if(e)return e=i(e[0]),o(/^[;\s]*/),{property:t,value:e}}}function p(){for(var t,e=[];t=o(/^(from|to|\d+%|\.\d+%|\d+\.\d+%)\s*/);)e.push(t[1]),o(/^,\s*/);return e.length?{values:e,declarations:S()}:void 0}function f(){var t=o(/^@([\-\w]+)?keyframes */);if(t){var e=t[1],t=o(/^([\-\w]+)\s*/);if(t){var i=t[1];if(s()){l();for(var r,a=[];r=p();)a.push(r),l();if(n()){var h={name:i,keyframes:a};return e&&(h.vendor=e),h}}}}}function m(){var t=o(/^@supports *([^{]+)/);if(t){var e=i(t[1]);if(s()){l();var a=r();if(n())return{supports:e,rules:a}}}}function g(){var t=o(/^@media *([^{]+)/);if(t){var e=i(t[1]);if(s()){l();var a=r();if(n())return{media:e,rules:a}}}}function v(){var t=o(/^@page */);if(t){var e=u()||[],i=[];if(s()){l();for(var r;r=c()||_();)i.push(r),l();if(n())return{type:"page",selectors:e,declarations:i}}}}function _(){var t=o(/^@([a-z\-]+) */);if(t){var e=t[1];return{type:e,declarations:S()}}}function y(){return x("import")}function w(){return x("charset")}function b(){return x("namespace")}function x(t){var e=o(RegExp("^@"+t+" *([^;\\n]+);\\s*"));if(e){var s={};return s[t]=i(e[1]),s}}function S(){var t=[];if(s()){l();for(var e;e=c();)t.push(e),l();if(n())return t}}function P(){return f()||g()||m()||y()||w()||b()||v()}function C(){var t=u();return t?(l(),{selectors:t,declarations:S()}):void 0}return e&&d._cache[e]?d._cache[e]:(t=t.replace(/\/\*[\s\S]*?\*\//g,""),d._cache[e]=r())},filter:function(t,e){function s(t,e){return t||e?t?t.concat(e):[e]:void 0}function n(t){null==t.media&&delete t.media,null==t.supports&&delete t.supports,u.push(t)}function r(t,e){if(e)for(var i=e.length;i--;)if(t.indexOf(e[i])>=0)return!0}function o(t,e){for(var s,n,r,o,a=/\*/,l=0;s=e[l++];)if(n=s.split(":"),r=RegExp("^"+i(n[0]).replace(a,".*")+"$"),o=RegExp("^"+i(n[1]).replace(a,".*")+"$"),r.test(t.property)&&o.test(t.value))return!0}function a(t,i,s){return e.selectors&&r(t.selectors.join(","),e.selectors)?(n({media:i,supports:s,selectors:t.selectors,declarations:t.declarations}),!0):void 0}function l(t,i,s){if(e.declarations)for(var r,a=0;r=t.declarations[a++];)if(o(r,e.declarations))return n({media:i,supports:s,selectors:t.selectors,declarations:t.declarations}),!0}function h(t,e,i){for(var n,r=0;n=t[r++];)n.declarations?a(n,e,i)||l(n,e,i):n.rules&&n.media?h(n.rules,s(e,n.media),i):n.rules&&n.supports&&h(n.rules,e,s(i,n.supports))}var u=[];return h(t),u}},p=function(){function i(){if(r)return r;var t=e.documentElement,i=e.body,s=t.style.fontSize,n=i.style.fontSize,o=e.createElement("div");return t.style.fontSize="1em",i.style.fontSize="1em",i.appendChild(o),o.style.width="1em",o.style.position="absolute",r=o.offsetWidth,i.removeChild(o),i.style.fontSize=n,t.style.fontSize=s,r}function s(e){return t.matchMedia(e)}function n(t){var s,n,r=!1;return o=e.documentElement.clientWidth,a.test(t)&&(s="em"===RegExp.$2?parseFloat(RegExp.$1)*i():parseFloat(RegExp.$1)),l.test(t)&&(n="em"===RegExp.$2?parseFloat(RegExp.$1)*i():parseFloat(RegExp.$1)),s&&n?r=o>=s&&n>=o:(s&&o>=s&&(r=!0),n&&n>=o&&(r=!0)),{matches:r,media:t}}var r,o,a=/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,l=/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,h={};return{matchMedia:function(t){return u.matchMedia?s(t):n(t)},clearCache:function(){u.nativeMatchMedia||(o=null,h={})}}}(),f=function(){function e(t,e){var i;return function(){clearTimeout(i),i=setTimeout(t,e)}}var i=function(){var t=[];return{add:function(e,i,s){for(var n,r=0;n=t[r++];)if(n.polyfill==e&&n.mql===i&&n.fn===s)return!1;i.addListener(s),t.push({polyfill:e,mql:i,fn:s})},remove:function(e){for(var i,s=0;i=t[s++];)i.polyfill===e&&(i.mql.removeListener(i.fn),t.splice(--s,1))}}}(),s=function(e){function i(){for(var t,i=0;t=e[i++];)t.fn()}return{add:function(s,n){e.length||(t.addEventListener?t.addEventListener("resize",i,!1):t.attachEvent("onresize",i)),e.push({polyfill:s,fn:n})},remove:function(s){for(var n,r=0;n=e[r++];)n.polyfill===s&&e.splice(--r,1);e.length||(t.removeEventListener?t.removeEventListener("resize",i,!1):t.detachEvent&&t.detachEvent("onresize",i))}}}([]);return{removeListeners:function(t){u.nativeMatchMedia?i.remove(t):s.remove(t)},addListeners:function(t,n){function r(){if(u.nativeMatchMedia)for(var r in a)a.hasOwnProperty(r)&&function(e,s){i.add(t,e,function(){n.call(t,s,e.matches)})}(a[r],r);else{var l=e(function(t,e){return function(){o(t,e)}}(t,a),t._options.debounceTimeout||100);s.add(t,l)}}function o(t,e){var i,s={};p.clearCache();for(i in e)e.hasOwnProperty(i)&&(s[i]=p.matchMedia(i).matches,s[i]!=l[i]&&n.call(t,i,p.matchMedia(i).matches));l=s}var a=t._mediaQueryMap,l={};!function(){for(var t in a)a.hasOwnProperty(t)&&(l[t]=p.matchMedia(t).matches)}(),r()}}}();r.prototype.each=function(t,e){var i,s=0;for(e||(e=this);i=this._rules[s++];)t.call(e,i)},r.prototype.size=function(){return this._rules.length},r.prototype.at=function(t){return this._rules[t]},o.prototype.getDeclaration=function(){for(var t,e={},i=0,s=this._rule.declarations;t=s[i++];)e[t.property]=t.value;return e},o.prototype.getSelectors=function(){return this._rule.selectors.join(", ")},o.prototype.getMedia=function(){return this._rule.media.join(" and ")},a.prototype.doMatched=function(t){return this._doMatched=t,this._resolve(),this},a.prototype.undoUnmatched=function(t){return this._undoUnmatched=t,this._resolve(),this},a.prototype.getCurrentMatches=function(){for(var t,e,i=0,s=[];t=this._filteredRules[i++];)e=t.media&&t.media.join(" and "),(!e||p.matchMedia(e).matches)&&s.push(t);return new r(s)},a.prototype.destroy=function(){this._undoUnmatched&&(this._undoUnmatched(this.getCurrentMatches()),f.removeListeners(this))},a.prototype._defer=function(t,e){t.call(this)?e.call(this):this._promise.push({condition:t,callback:e})},a.prototype._resolve=function(){for(var t,e=0;t=this._promise[e];)t.condition.call(this)?(this._promise.splice(e,1),t.callback.call(this)):e++},a.prototype._getStylesheets=function(){var t,i,n,r,o,a=0,l=[];if(this._options.include){for(i=this._options.include;t=i[a++];)if(n=e.getElementById(t)){if(n.media&&"print"==n.media)continue;if(!h(n.href))continue;o={href:n.href},n.media&&(o.media=n.media),l.push(o)}}else for(i=this._options.exclude,r=e.getElementsByTagName("link");n=r[a++];)n.rel&&"stylesheet"==n.rel&&"print"!=n.media&&h(n.href)&&!s(n.id,i)&&(o={href:n.href},n.media&&(o.media=n.media),l.push(o));return this._stylesheets=l},a.prototype._downloadStylesheets=function(){for(var t,e=this,i=[],s=0;t=this._stylesheets[s++];)i.push(t.href);c.request(i,function(t){for(var i,s=0;i=t[s];)e._stylesheets[s++].text=i;e._resolve()})},a.prototype._parseStylesheets=function(){this._defer(function(){return this._stylesheets&&this._stylesheets.length&&this._stylesheets[0].text},function(){for(var t,e=0;t=this._stylesheets[e++];)t.rules=d.parse(t.text,t.url)})},a.prototype._filterCSSByKeywords=function(){this._defer(function(){return this._stylesheets&&this._stylesheets.length&&this._stylesheets[0].rules},function(){for(var t,e,i=[],s=0;t=this._stylesheets[s++];)e=t.media,e&&"all"!=e&&"screen"!=e?i.push({rules:t.rules,media:t.media}):i=i.concat(t.rules);this._filteredRules=d.filter(i,this._options.keywords)})},a.prototype._buildMediaQueryMap=function(){this._defer(function(){return this._filteredRules},function(){var t,e,i=0;for(this._mediaQueryMap={};e=this._filteredRules[i++];)e.media&&(t=e.media.join(" and "),this._mediaQueryMap[t]=p.matchMedia(t))})},a.prototype._reportInitialMatches=function(){this._defer(function(){return this._filteredRules&&this._doMatched},function(){this._doMatched(this.getCurrentMatches())})},a.prototype._addMediaListeners=function(){this._defer(function(){return this._filteredRules&&this._doMatched&&this._undoUnmatched},function(){f.addListeners(this,function(t,e){for(var i,s=0,n=[],o=[];i=this._filteredRules[s++];)i.media&&i.media.join(" and ")==t&&(e?n:o).push(i);n.length&&this._doMatched(new r(n)),o.length&&this._undoUnmatched(new r(o))})})},a.modules={DownloadManager:c,StyleManager:d,MediaManager:p,EventManager:f},a.constructors={Ruleset:r,Rule:o},t.Polyfill=a}(window,document),function($){function t(t){var i=t.data("position:sticky");i&&($(window).scrollTop()>=i.offsetTop-i.top?i.$clone||(i.$clone=t.clone().css({position:"fixed",top:i.top}).appendTo("body"),t.css("visibility","hidden"),e(t)):i.$clone&&(i.$clone.remove(),i.$clone=null,t.css("visibility","visible")))}function e(t){var e=t.data("position:sticky"),i;e&&e.$clone&&(i=t.offset(),e.offsetTop=i.top,e.$clone.css({left:i.left,width:t.width()}))}function i(i){i.each(function(i){var s=$(i.getSelectors()),r=i.getDeclaration();s.each(function(){var i=$(this),s=i.data("position:sticky");s||(s={id:++n,offsetTop:i.offset().top,top:parseInt(r.top,10)},i.data("position:sticky",s)),t(i),$(window).on("scroll.position:sticky:"+s.id,function(){t(i)}),$(window).on("resize.position:sticky:"+s.id,function(){e(i)})})})}function s(t){t.each(function(t){var e=$(t.getSelectors());e.each(function(){var t=$(this),e=$(this).data("position:sticky");e&&(e.$clone&&(e.$clone.remove(),t.css("visibility","visible")),$(window).off(".position:sticky:"+e.id),t.removeData("position:sticky"))})})}if(!function(t){try{t.style.position="sticky"}catch(e){return!1}return"sticky"===t.style.position}(document.createElement("div"))){var n=0;Polyfill({declarations:["position:sticky"]},{include:["position-sticky"]}).doMatched(i).undoUnmatched(s)}}(jQuery),function(t){function e(e,i){var s,n=this,r=window.navigator,o=r.userAgent.toLowerCase();n.uid=t.rsModules.uid++,n.ns=".rs"+n.uid;var a=document.createElement("div").style,l=["webkit","Moz","ms","O"],h="",u=0,c;for(s=0;s<l.length;s++)c=l[s],!h&&c+"Transform"in a&&(h=c),c=c.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),s=Math.max(0,16-(i-u)),n=window.setTimeout(function(){t(i+s)},s);return u=i+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),n.isIPAD=o.match(/(ipad)/),n.isIOS=n.isIPAD||o.match(/(iphone|ipod)/),s=function(t){return t=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0>t.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],{browser:t[1]||"",version:t[2]||"0"}}(o),l={},s.browser&&(l[s.browser]=!0,l.version=s.version),l.chrome&&(l.webkit=!0),n._a=l,n.isAndroid=-1<o.indexOf("android"),n.slider=t(e),n.ev=t(n),n._b=t(document),n.st=t.extend({},t.fn.royalSlider.defaults,i),n._c=n.st.transitionSpeed,n._d=0,!n.st.allowCSS3||l.webkit&&!n.st.allowCSS3OnWebkit||(s=h+(h?"T":"t"),n._e=s+"ransform"in a&&s+"ransition"in a,n._e&&(n._f=h+(h?"P":"p")+"erspective"in a)),h=h.toLowerCase(),n._g="-"+h+"-",n._h="vertical"===n.st.slidesOrientation?!1:!0,n._i=n._h?"left":"top",n._j=n._h?"width":"height",n._k=-1,n._l="fade"===n.st.transitionType?!1:!0,n._l||(n.st.sliderDrag=!1,n._m=10),n._n="z-index:0; display:none; opacity:0;",n._o=0,n._p=0,n._q=0,t.each(t.rsModules,function(t,e){"uid"!==t&&e.call(n)}),n.slides=[],n._r=0,(n.st.slides?t(n.st.slides):n.slider.children().detach()).each(function(){n._s(this,!0)}),n.st.randomizeSlides&&n.slides.sort(function(){return.5-Math.random()}),n.numSlides=n.slides.length,n._t(),n.st.startSlideId?n.st.startSlideId>n.numSlides-1&&(n.st.startSlideId=n.numSlides-1):n.st.startSlideId=0,n._o=n.staticSlideId=n.currSlideId=n._u=n.st.startSlideId,n.currSlide=n.slides[n.currSlideId],n._v=0,n.pointerMultitouch=!1,n.slider.addClass((n._h?"rsHor":"rsVer")+(n._l?"":" rsFade")),a='<div class="rsOverflow"><div class="rsContainer">',n.slidesSpacing=n.st.slidesSpacing,n._w=(n._h?n.slider.width():n.slider.height())+n.st.slidesSpacing,n._x=Boolean(0<n._y),1>=n.numSlides&&(n._z=!1),n._a1=n._z&&n._l?2===n.numSlides?1:2:0,n._b1=6>n.numSlides?n.numSlides:6,n._c1=0,n._d1=0,n.slidesJQ=[];for(s=0;s<n.numSlides;s++)n.slidesJQ.push(t('<div style="'+(n._l?"":s!==n.currSlideId?n._n:"z-index:0;")+'" class="rsSlide "></div>'));n._e1=a=t(a+"</div></div>");var d=n.ns,h=function(t,e,i,s,r){n._j1=t+e+d,n._k1=t+i+d,n._l1=t+s+d,r&&(n._m1=t+r+d)};s=r.pointerEnabled,n.pointerEnabled=s||r.msPointerEnabled,n.pointerEnabled?(n.hasTouch=!1,n._n1=.2,n.pointerMultitouch=Boolean(1<r[(s?"m":"msM")+"axTouchPoints"]),s?h("pointer","down","move","up","cancel"):h("MSPointer","Down","Move","Up","Cancel")):(n.isIOS?n._j1=n._k1=n._l1=n._m1="":h("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(n.hasTouch=!0,n._j1+=" touchstart"+d,n._k1+=" touchmove"+d,n._l1+=" touchend"+d,n._m1+=" touchcancel"+d,n._n1=.5,n.st.sliderTouch&&(n._f1=!0)):(n.hasTouch=!1,n._n1=.2)),n.st.sliderDrag&&(n._f1=!0,l.msie||l.opera?n._g1=n._h1="move":l.mozilla?(n._g1="-moz-grab",n._h1="-moz-grabbing"):l.webkit&&-1!=r.platform.indexOf("Mac")&&(n._g1="-webkit-grab",n._h1="-webkit-grabbing"),n._i1()),n.slider.html(a),n._o1=n.st.controlsInside?n._e1:n.slider,n._p1=n._e1.children(".rsContainer"),n.pointerEnabled&&n._p1.css((s?"":"-ms-")+"touch-action",n._h?"pan-y":"pan-x"),n._q1=t('<div class="rsPreloader"></div>'),r=n._p1.children(".rsSlide"),n._r1=n.slidesJQ[n.currSlideId],n._s1=0,n._e?(n._t1="transition-property",n._u1="transition-duration",n._v1="transition-timing-function",n._w1=n._x1=n._g+"transform",n._f?(l.webkit&&!l.chrome&&n.slider.addClass("rsWebkit3d"),n._y1="translate3d(",n._z1="px, ",n._a2="px, 0px)"):(n._y1="translate(",n._z1="px, ",n._a2="px)"),n._l?n._p1[n._g+n._t1]=n._g+"transform":(l={},l[n._g+n._t1]="opacity",l[n._g+n._u1]=n.st.transitionSpeed+"ms",l[n._g+n._v1]=n.st.css3easeInOut,r.css(l))):(n._x1="left",n._w1="top");var p;t(window).on("resize"+n.ns,function(){p&&clearTimeout(p),p=setTimeout(function(){n.updateSliderSize()},50)}),n.ev.trigger("rsAfterPropsSetup"),n.updateSliderSize(),n.st.keyboardNavEnabled&&n._b2(),n.st.arrowsNavHideOnTouch&&(n.hasTouch||n.pointerMultitouch)&&(n.st.arrowsNav=!1),n.st.arrowsNav&&(r=n._o1,t('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(r),n._c2=r.children(".rsArrowLeft").click(function(t){t.preventDefault(),n.prev()}),n._d2=r.children(".rsArrowRight").click(function(t){t.preventDefault(),n.next()}),n.st.arrowsNavAutoHide&&!n.hasTouch&&(n._c2.addClass("rsHidden"),n._d2.addClass("rsHidden"),r.one("mousemove.arrowshover",function(){n._c2.removeClass("rsHidden"),n._d2.removeClass("rsHidden")}),r.hover(function(){n._e2||(n._c2.removeClass("rsHidden"),n._d2.removeClass("rsHidden"))},function(){n._e2||(n._c2.addClass("rsHidden"),n._d2.addClass("rsHidden"))})),n.ev.on("rsOnUpdateNav",function(){n._f2()}),n._f2()),n.hasTouch&&n.st.sliderTouch||!n.hasTouch&&n.st.sliderDrag?n._p1.on(n._j1,function(t){n._g2(t)}):n.dragSuccess=!1;var f=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];n._p1.click(function(e){if(!n.dragSuccess){var i=t(e.target).attr("class");if(-1!==t.inArray(i,f)&&n.toggleVideo())return!1;if(n.st.navigateByClick&&!n._h2){if(t(e.target).closest(".rsNoDrag",n._r1).length)return!0;n._i2(e)}n.ev.trigger("rsSlideClick",e)}}).on("click.rs","a",function(t){return n.dragSuccess?!1:(n._h2=!0,void setTimeout(function(){n._h2=!1},3))}),n.ev.trigger("rsAfterInit")}t.rsModules||(t.rsModules={uid:0}),e.prototype={constructor:e,_i2:function(t){t=t[this._h?"pageX":"pageY"]-this._j2,t>=this._q?this.next():0>t&&this.prev()},_t:function(){var t;t=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&t>0&&(4>=this.numSlides?t=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(t=Math.floor((this.numSlides-1)/2))),this._y=t},_s:function(e,i){function s(t,e){if(o.images.push(e?t.attr(e):t.text()),l){l=!1,o.caption="src"===e?t.attr("alt"):t.contents(),o.image=o.images[0],o.videoURL=t.attr("data-rsVideo");var i=t.attr("data-rsw"),s=t.attr("data-rsh");"undefined"!=typeof i&&!1!==i&&"undefined"!=typeof s&&!1!==s?(o.iW=parseInt(i,10),o.iH=parseInt(s,10)):n.st.imgWidth&&n.st.imgHeight&&(o.iW=n.st.imgWidth,o.iH=n.st.imgHeight)}}var n=this,r,o={},a,l=!0;return e=t(e),n._k2=e,n.ev.trigger("rsBeforeParseNode",[e,o]),o.stopParsing?void 0:(e=n._k2,o.id=n._r,o.contentAdded=!1,n._r++,o.images=[],o.isBig=!1,o.hasCover||(e.hasClass("rsImg")?(a=e,r=!0):(a=e.find(".rsImg"),a.length&&(r=!0)),r?(o.bigImage=a.eq(0).attr("data-rsBigImg"),a.each(function(){var e=t(this);e.is("a")?s(e,"href"):e.is("img")?s(e,"src"):s(e)})):e.is("img")&&(e.addClass("rsImg rsMainSlideImage"),s(e,"src"))),a=e.find(".rsCaption"),a.length&&(o.caption=a.remove()),o.content=e,n.ev.trigger("rsAfterParseNode",[e,o]),i&&n.slides.push(o),0===o.images.length&&(o.isLoaded=!0,o.isRendered=!1,o.isLoading=!1,o.images=null),o)},_b2:function(){var t=this,e,i,s=function(e){37===e?t.prev():39===e&&t.next()};t._b.on("keydown"+t.ns,function(n){t._l2||(i=n.keyCode,37!==i&&39!==i||e||(n.preventDefault(),s(i),e=setInterval(function(){s(i)},700)))}).on("keyup"+t.ns,function(t){e&&(clearInterval(e),e=null)})},goTo:function(t,e){t!==this.currSlideId&&this._m2(t,this.st.transitionSpeed,!0,!e)},destroy:function(e){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),t.removeData(this.slider,"royalSlider"),t(window).off("resize"+this.ns),this.loadingTimeout&&clearTimeout(this.loadingTimeout),e&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(e,i){function s(i,s,o){i.isAdded?(n(s,i),r(s,i)):(o||(o=a.slidesJQ[s]),i.holder?o=i.holder:(o=a.slidesJQ[s]=t(o),i.holder=o),i.appendOnLoaded=!1,r(s,i,o),n(s,i),a._p2(i,o,e),i.isAdded=!0)}function n(t,i){i.contentAdded||(a.setItemHtml(i,e),e||(i.contentAdded=!0))}function r(t,e,i){a._l&&(i||(i=a.slidesJQ[t]),i.css(a._i,(t+a._d1+p)*a._w))}function o(t){if(u){if(t>c-1)return o(t-c);if(0>t)return o(c+t)}return t}var a=this,l,h,u=a._z,c=a.numSlides;if(!isNaN(i))return o(i);var d=a.currSlideId,p,f=e?Math.abs(a._o2-a.currSlideId)>=a.numSlides-1?0:1:a._y,m=Math.min(2,f),g=!1,v=!1,_;for(h=d;d+1+m>h;h++)if(_=o(h),(l=a.slides[_])&&(!l.isAdded||!l.positionSet)){g=!0;break}for(h=d-1;h>d-1-m;h--)if(_=o(h),(l=a.slides[_])&&(!l.isAdded||!l.positionSet)){v=!0;break}if(g)for(h=d;d+f+1>h;h++)_=o(h),p=Math.floor((a._u-(d-h))/a.numSlides)*a.numSlides,(l=a.slides[_])&&s(l,_);if(v)for(h=d-1;h>d-1-f;h--)_=o(h),p=Math.floor((a._u-(d-h))/c)*c,(l=a.slides[_])&&s(l,_);if(!e)for(m=o(d-f),d=o(d+f),f=m>d?0:m,h=0;c>h;h++)m>d&&h>m-1||!(f>h||h>d)||(l=a.slides[h])&&l.holder&&(l.holder.detach(),l.isAdded=!1)},setItemHtml:function(e,i){var s=this,n=function(){if(e.images){if(!e.isLoading){var i,n;if(e.content.hasClass("rsImg")?(i=e.content,n=!0):i=e.content.find(".rsImg:not(img)"),i&&!i.is("img")&&i.each(function(){var i=t(this),s='<img class="rsImg" src="'+(i.is("a")?i.attr("href"):i.text())+'" />';n?e.content=t(s):i.replaceWith(s)}),i=n?e.content:e.content.find("img.rsImg"),h(),i.eq(0).addClass("rsMainSlideImage"),e.iW&&e.iH&&(e.isLoaded||s._q2(e),a()),e.isLoading=!0,e.isBig)t("<img />").on("load.rs error.rs",function(e){t(this).off("load.rs error.rs"),r([this],!0)}).attr("src",e.image);else{e.loaded=[],e.numStartedLoad=0,i=function(i){t(this).off("load.rs error.rs"),e.loaded.push(this),e.loaded.length===e.numStartedLoad&&r(e.loaded,!1)};for(var o=0;o<e.images.length;o++){var l=t("<img />");e.numStartedLoad++,l.on("load.rs error.rs",i).attr("src",e.images[o])}}}}else e.isRendered=!0,e.isLoaded=!0,e.isLoading=!1,a(!0)},r=function(t,i){if(t.length){var s=t[0];if(i!==e.isBig)(s=e.holder.children())&&1<s.length&&u();else if(e.iW&&e.iH)o();else if(e.iW=s.width,e.iH=s.height,e.iW&&e.iH)o();else{var n=new Image;n.onload=function(){n.width?(e.iW=n.width,e.iH=n.height,o()):setTimeout(function(){n.width&&(e.iW=n.width,e.iH=n.height),o()},1e3)},n.src=s.src}}else o()},o=function(){e.isLoaded=!0,e.isLoading=!1,a(),u(),l()},a=function(){if(!e.isAppended&&s.ev){var t=s.st.visibleNearby,n=e.id-s._o;i||e.appendOnLoaded||!s.st.fadeinLoadedSlide||0!==n&&(!(t||s._r2||s._l2)||-1!==n&&1!==n)||(t={visibility:"visible",opacity:0},t[s._g+"transition"]="opacity 400ms ease-in-out",e.content.css(t),setTimeout(function(){e.content.css("opacity",1)},16)),e.holder.find(".rsPreloader").length?e.holder.append(e.content):e.holder.html(e.content),e.isAppended=!0,e.isLoaded&&(s._q2(e),l()),e.sizeReady||(e.sizeReady=!0,setTimeout(function(){s.ev.trigger("rsMaybeSizeReady",e)},100))}},l=function(){!e.loadedTriggered&&s.ev&&(e.isLoaded=e.loadedTriggered=!0,e.holder.trigger("rsAfterContentSet"),s.ev.trigger("rsAfterContentSet",e))},h=function(){s.st.usePreloader&&e.holder.html(s._q1.clone())},u=function(t){s.st.usePreloader&&(t=e.holder.find(".rsPreloader"),t.length&&t.remove())};e.isLoaded?a():i?!s._l&&e.images&&e.iW&&e.iH?n():(e.holder.isWaiting=!0,h(),e.holder.slideId=-99):n()},_p2:function(t,e,i){this._p1.append(t.holder),t.appendOnLoaded=!1},_g2:function(e,i){var s=this,n,r="touchstart"===e.type;if(s._s2=r,s.ev.trigger("rsDragStart"),t(e.target).closest(".rsNoDrag",s._r1).length)return s.dragSuccess=!1,!0;if(!i&&s._r2&&(s._t2=!0,s._u2()),s.dragSuccess=!1,s._l2)r&&(s._v2=!0);else{if(r&&(s._v2=!1),s._w2(),r){var o=e.originalEvent.touches;if(!(o&&0<o.length))return;n=o[0],1<o.length&&(s._v2=!0)}else e.preventDefault(),n=e,s.pointerEnabled&&(n=n.originalEvent);s._l2=!0,s._b.on(s._k1,function(t){s._x2(t,i)}).on(s._l1,function(t){s._y2(t,i)}),s._z2="",s._a3=!1,s._b3=n.pageX,s._c3=n.pageY,s._d3=s._v=(i?s._e3:s._h)?n.pageX:n.pageY,s._f3=0,s._g3=0,s._h3=i?s._i3:s._p,s._j3=(new Date).getTime(),r&&s._e1.on(s._m1,function(t){s._y2(t,i)})}},_k3:function(t,e){if(this._l3){var i=this._m3,s=t.pageX-this._b3,n=t.pageY-this._c3,r=this._h3+s,o=this._h3+n,a=e?this._e3:this._h,r=a?r:o,o=this._z2;this._a3=!0,this._b3=t.pageX,this._c3=t.pageY,"x"===o&&0!==s?this._f3=s>0?1:-1:"y"===o&&0!==n&&(this._g3=n>0?1:-1),o=a?this._b3:this._c3,s=a?s:n,e?r>this._n3?r=this._h3+s*this._n1:r<this._o3&&(r=this._h3+s*this._n1):this._z||(0>=this.currSlideId&&0<o-this._d3&&(r=this._h3+s*this._n1),this.currSlideId>=this.numSlides-1&&0>o-this._d3&&(r=this._h3+s*this._n1)),this._h3=r,200<i-this._j3&&(this._j3=i,this._v=o),e?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(t,e){var i=this,s,n="touchmove"===t.type;if(!i._s2||n){if(n){if(i._r3)return;var r=t.originalEvent.touches;if(!r)return;if(1<r.length)return;s=r[0]}else s=t,i.pointerEnabled&&(s=s.originalEvent);if(i._a3||(i._e&&(e?i._s3:i._p1).css(i._g+i._u1,"0s"),function o(){i._l2&&(i._t3=requestAnimationFrame(o),i._u3&&i._k3(i._u3,e))}()),i._l3)t.preventDefault(),i._m3=(new Date).getTime(),i._u3=s;else if(r=e?i._e3:i._h,s=Math.abs(s.pageX-i._b3)-Math.abs(s.pageY-i._c3)-(r?-7:7),s>7){if(r)t.preventDefault(),i._z2="x";else if(n)return void i._v3(t);i._l3=!0}else if(-7>s){if(r){if(n)return void i._v3(t)}else t.preventDefault(),i._z2="y";i._l3=!0}}},_v3:function(t,e){this._r3=!0,this._a3=this._l2=!1,this._y2(t)},_y2:function(e,i){function s(t){return 100>t?100:t>500?500:t}function n(t,e){(r._l||i)&&(l=(-r._u-r._d1)*r._w,h=Math.abs(r._p-l),r._c=h/e,t&&(r._c+=250),r._c=s(r._c),r._x3(l,!1))}var r=this,o,a,l,h;if(o=-1<e.type.indexOf("touch"),!r._s2||o)if(r._s2=!1,r.ev.trigger("rsDragRelease"),r._u3=null,r._l2=!1,r._r3=!1,r._l3=!1,r._m3=0,cancelAnimationFrame(r._t3),r._a3&&(i?r._q3(r._h3):r._l&&r._p3(r._h3)),r._b.off(r._k1).off(r._l1),o&&r._e1.off(r._m1),r._i1(),!r._a3&&!r._v2&&i&&r._w3){var u=t(e.target).closest(".rsNavItem");u.length&&r.goTo(u.index())}else{if(a=i?r._e3:r._h,!r._a3||"y"===r._z2&&a||"x"===r._z2&&!a){if(i||!r._t2)return r._t2=!1,void(r.dragSuccess=!1);if(r._t2=!1,r.st.navigateByClick)return r._i2(r.pointerEnabled?e.originalEvent:e),void(r.dragSuccess=!0);r.dragSuccess=!0}else r.dragSuccess=!0;r._t2=!1,r._z2="";var c=r.st.minSlideOffset;o=o?e.originalEvent.changedTouches[0]:r.pointerEnabled?e.originalEvent:e;var d=a?o.pageX:o.pageY,p=r._d3;o=r._v;var f=r.currSlideId,m=r.numSlides,g=a?r._f3:r._g3,v=r._z;if(Math.abs(d-p),o=d-o,a=(new Date).getTime()-r._j3,a=Math.abs(o)/a,0===g||1>=m)n(!0,a);else{if(!v&&!i)if(0>=f){if(g>0)return void n(!0,a)}else if(f>=m-1&&0>g)return void n(!0,a);if(i){if(l=r._i3,l>r._n3)l=r._n3;else if(l<r._o3)l=r._o3;else{if(d=a*a/.006,u=-r._i3,p=r._y3-r._z3+r._i3,o>0&&d>u?(u+=r._z3/(15/(d/a*.003)),a=a*u/d,d=u):0>o&&d>p&&(p+=r._z3/(15/(d/a*.003)),a=a*p/d,d=p),u=Math.max(Math.round(a/.003),50),l+=d*(0>o?-1:1),l>r._n3)return void r._a4(l,u,!0,r._n3,200);if(l<r._o3)return void r._a4(l,u,!0,r._o3,200)}r._a4(l,u,!0)}else u=function(t){var e=Math.floor(t/r._w);return t-e*r._w>c&&e++,e},d>p+c?0>g?n(!1,a):(u=u(d-p),r._m2(r.currSlideId-u,s(Math.abs(r._p-(-r._u-r._d1+u)*r._w)/a),!1,!0,!0)):p-c>d?g>0?n(!1,a):(u=u(p-d),r._m2(r.currSlideId+u,s(Math.abs(r._p-(-r._u-r._d1-u)*r._w)/a),!1,!0,!0)):n(!1,a)}}},_p3:function(t){t=this._p=t,this._e?this._p1.css(this._x1,this._y1+(this._h?t+this._z1+0:0+this._z1+t)+this._a2):this._p1.css(this._h?this._x1:this._w1,t)},updateSliderSize:function(t){var e,i;if(this.slider){if(this.st.autoScaleSlider){var s=this.st.autoScaleSliderWidth,n=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(e=this.slider.width(),e!=this.width&&(this.slider.css("height",n/s*e),e=this.slider.width()),i=this.slider.height()):(i=this.slider.height(),i!=this.height&&(this.slider.css("width",s/n*i),i=this.slider.height()),e=this.slider.width())}else e=this.slider.width(),i=this.slider.height();if(t||e!=this.width||i!=this.height){for(this.width=e,this.height=i,this._b4=e,this._c4=i,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,e=0;e<this.slides.length;e++)t=this.slides[e],t.positionSet=!1,t&&t.images&&t.isLoaded&&(t.isRendered=!1,this._q2(t));if(this._e4)for(e=0;e<this._e4.length;e++)t=this._e4[e],t.holder.css(this._i,(t.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]}},appendSlide:function(e,i){var s=this._s(e);(isNaN(i)||i>this.numSlides)&&(i=this.numSlides),this.slides.splice(i,0,s),this.slidesJQ.splice(i,0,t('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>')),i<=this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[s,i]),this._f4(i),i===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(t){var e=this.slides[t];e&&(e.holder&&e.holder.remove(),t<this.currSlideId&&this.currSlideId--,this.slides.splice(t,1),this.slidesJQ.splice(t,1),this.ev.trigger("rsOnRemoveSlide",[t]),this._f4(t),t===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(t){var e=this;for(t=e.numSlides,t=0>=e._u?0:Math.floor(e._u/t),e.numSlides=e.slides.length,0===e.numSlides?(e.currSlideId=e._d1=e._u=0,e.currSlide=e._g4=null):e._u=t*e.numSlides+e.currSlideId,t=0;t<e.numSlides;t++)e.slides[t].id=t;e.currSlide=e.slides[e.currSlideId],e._r1=e.slidesJQ[e.currSlideId],e.currSlideId>=e.numSlides?e.goTo(e.numSlides-1):0>e.currSlideId&&e.goTo(0),e._t(),e._l&&e._p1.css(e._g+e._u1,"0ms"),e._h4&&clearTimeout(e._h4),e._h4=setTimeout(function(){e._l&&e._p3((-e._u-e._d1)*e._w),e._n2(),e._l||e._r1.css({display:"block",opacity:1})},14),e.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(t){this._m2("next",this.st.transitionSpeed,!0,!t)},prev:function(t){this._m2("prev",this.st.transitionSpeed,!0,!t)},_m2:function(t,e,i,s,n){var r=this,o,a,l;if(r.ev.trigger("rsBeforeMove",[t,s]),l="next"===t?r.currSlideId+1:"prev"===t?r.currSlideId-1:t=parseInt(t,10),!r._z){if(0>l)return void r._i4("left",!s);if(l>=r.numSlides)return void r._i4("right",!s)}r._r2&&(r._u2(!0),i=!1),a=l-r.currSlideId,l=r._o2=r.currSlideId;var h=r.currSlideId+a;s=r._u;var u;r._z?(h=r._n2(!1,h),s+=a):s=h,r._o=h,r._g4=r.slidesJQ[r.currSlideId],r._u=s,r.currSlideId=r._o,r.currSlide=r.slides[r.currSlideId],r._r1=r.slidesJQ[r.currSlideId];var h=r.st.slidesDiff,c=Boolean(a>0);a=Math.abs(a);var d=Math.floor(l/r._y),p=Math.floor((l+(c?h:-h))/r._y),d=(c?Math.max(d,p):Math.min(d,p))*r._y+(c?r._y-1:0);if(d>r.numSlides-1?d=r.numSlides-1:0>d&&(d=0),l=c?d-l:l-d,l>r._y&&(l=r._y),a>l+h)for(r._d1+=(a-(l+h))*(c?-1:1),e*=1.4,l=0;l<r.numSlides;l++)r.slides[l].positionSet=!1;r._c=e,r._n2(!0),n||(u=!0),o=(-s-r._d1)*r._w,u?setTimeout(function(){r._j4=!1,r._x3(o,t,!1,i),r.ev.trigger("rsOnUpdateNav")},0):(r._x3(o,t,!1,i),r.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))
},_x3:function(e,i,s,n,r){function o(){var t;l&&(t=l.data("rsTimeout"))&&(l!==h&&l.css({opacity:0,display:"none",zIndex:0}),clearTimeout(t),l.data("rsTimeout","")),(t=h.data("rsTimeout"))&&(clearTimeout(t),h.data("rsTimeout",""))}var a=this,l,h,u={};isNaN(a._c)&&(a._c=400),a._p=a._h3=e,a.ev.trigger("rsBeforeAnimStart"),a._e?a._l?(a._c=parseInt(a._c,10),s=a._g+a._v1,u[a._g+a._u1]=a._c+"ms",u[s]=n?t.rsCSS3Easing[a.st.easeInOut]:t.rsCSS3Easing[a.st.easeOut],a._p1.css(u),n||!a.hasTouch?setTimeout(function(){a._p3(e)},5):a._p3(e)):(a._c=a.st.transitionSpeed,l=a._g4,h=a._r1,h.data("rsTimeout")&&h.css("opacity",0),o(),l&&l.data("rsTimeout",setTimeout(function(){u[a._g+a._u1]="0ms",u.zIndex=0,u.display="none",l.data("rsTimeout",""),l.css(u),setTimeout(function(){l.css("opacity",0)},16)},a._c+60)),u.display="block",u.zIndex=a._m,u.opacity=0,u[a._g+a._u1]="0ms",u[a._g+a._v1]=t.rsCSS3Easing[a.st.easeInOut],h.css(u),h.data("rsTimeout",setTimeout(function(){h.css(a._g+a._u1,a._c+"ms"),h.data("rsTimeout",setTimeout(function(){h.css("opacity",1),h.data("rsTimeout","")},20))},20))):a._l?(u[a._h?a._x1:a._w1]=e+"px",a._p1.animate(u,a._c,n?a.st.easeInOut:a.st.easeOut)):(l=a._g4,h=a._r1,h.stop(!0,!0).css({opacity:0,display:"block",zIndex:a._m}),a._c=a.st.transitionSpeed,h.animate({opacity:1},a._c,a.st.easeInOut),o(),l&&l.data("rsTimeout",setTimeout(function(){l.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},a._c+60))),a._r2=!0,a.loadingTimeout&&clearTimeout(a.loadingTimeout),a.loadingTimeout=r?setTimeout(function(){a.loadingTimeout=null,r.call()},a._c+60):setTimeout(function(){a.loadingTimeout=null,a._k4(i)},a._c+60)},_u2:function(t){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!t){t=this._p;var e=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),t!==e&&this._p3(e)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._h?this._x1:this._w1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var t=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),e=0===t[0].indexOf("matrix3d");return parseInt(t[this._h?e?12:4:e?13:5],10)},_m4:function(t,e){return this._e?this._y1+(e?t+this._z1+0:0+this._z1+t)+this._a2:t},_k4:function(t){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(t,e){var i=this,s=(-i._u-i._d1)*i._w;if(0!==i.numSlides&&!i._r2)if(i.st.loopRewind)i.goTo("left"===t?i.numSlides-1:0,e);else if(i._l){i._c=200;var n=function(){i._r2=!1};i._x3(s+("left"===t?30:-30),"",!1,!0,function(){i._r2=!1,i._x3(s,"",!1,!0,n)})}},_q2:function(t,e){if(!t.isRendered){var i=t.content,s="rsMainSlideImage",n,r=this.st.imageAlignCenter,o=this.st.imageScaleMode,a;if(t.videoURL&&(s="rsVideoContainer","fill"!==o?n=!0:(a=i,a.hasClass(s)||(a=a.find("."+s)),a.css({width:"100%",height:"100%"}),s="rsMainSlideImage")),i.hasClass(s)||(i=i.find("."+s)),i){var l=t.iW,h=t.iH;if(t.isRendered=!0,"none"!==o||r){s="fill"!==o?this._d4:0,a=this._b4-2*s;var u=this._c4-2*s,c,d,p={};"fit-if-smaller"===o&&(l>a||h>u)&&(o="fit"),("fill"===o||"fit"===o)&&(c=a/l,d=u/h,c="fill"==o?c>d?c:d:"fit"==o?d>c?c:d:1,l=Math.ceil(l*c,10),h=Math.ceil(h*c,10)),"none"!==o&&(p.width=l,p.height=h,n&&i.find(".rsImg").css({width:"100%",height:"100%"})),r&&(p.marginLeft=Math.floor((a-l)/2)+s,p.marginTop=Math.floor((u-h)/2)+s),i.css(p)}}}}},t.rsProto=e.prototype,t.fn.royalSlider=function(i){var s=arguments;return this.each(function(){var n=t(this);if("object"!=typeof i&&i){if((n=n.data("royalSlider"))&&n[i])return n[i].apply(n,Array.prototype.slice.call(s,1))}else n.data("royalSlider")||n.data("royalSlider",new e(n,i))})},t.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},t.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},t.extend(jQuery.easing,{easeInOutSine:function(t,e,i,s,n){return-s/2*(Math.cos(Math.PI*e/n)-1)+i},easeOutSine:function(t,e,i,s,n){return s*Math.sin(e/n*(Math.PI/2))+i},easeOutCubic:function(t,e,i,s,n){return s*((e=e/n-1)*e*e+1)+i}})}(jQuery,window),function(t){t.extend(t.rsProto,{_i5:function(){var e=this;"bullets"===e.st.controlNavigation&&(e.ev.one("rsAfterPropsSetup",function(){e._j5=!0,e.slider.addClass("rsWithBullets");for(var i='<div class="rsNav rsBullets">',s=0;s<e.numSlides;s++)i+='<div class="rsNavItem rsBullet"><span></span></div>';e._k5=i=t(i+"</div>"),e._l5=i.appendTo(e.slider).children(),e._k5.on("click.rs",".rsNavItem",function(i){e._m5||e.goTo(t(this).index())})}),e.ev.on("rsOnAppendSlide",function(t,i,s){s>=e.numSlides?e._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):e._l5.eq(s).before('<div class="rsNavItem rsBullet"><span></span></div>'),e._l5=e._k5.children()}),e.ev.on("rsOnRemoveSlide",function(t,i){var s=e._l5.eq(i);s&&s.length&&(s.remove(),e._l5=e._k5.children())}),e.ev.on("rsOnUpdateNav",function(){var t=e.currSlideId;e._n5&&e._n5.removeClass("rsNavSelected"),t=e._l5.eq(t),t.addClass("rsNavSelected"),e._n5=t}))}}),t.rsModules.bullets=t.rsProto._i5}(jQuery),function(t){t.extend(t.rsProto,{_x4:function(){var e=this,i;e._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!e.st.autoPlay&&e.st.autoplay&&(e.st.autoPlay=e.st.autoplay),e.st.autoPlay=t.extend({},e._y4,e.st.autoPlay),e.st.autoPlay.enabled&&(e.ev.on("rsBeforeParseNode",function(e,s,n){s=t(s),(i=s.attr("data-rsDelay"))&&(n.customDelay=parseInt(i,10))}),e.ev.one("rsAfterInit",function(){e._z4()}),e.ev.on("rsBeforeDestroy",function(){e.stopAutoPlay(),e.slider.off("mouseenter mouseleave"),t(window).off("blur"+e.ns+" focus"+e.ns)}))},_z4:function(){var e=this;e.startAutoPlay(),e.ev.on("rsAfterContentSet",function(t,i){e._l2||e._r2||!e._a5||i!==e.currSlide||e._b5()}),e.ev.on("rsDragRelease",function(){e._a5&&e._c5&&(e._c5=!1,e._b5())}),e.ev.on("rsAfterSlideChange",function(){e._a5&&e._c5&&(e._c5=!1,e.currSlide.isLoaded&&e._b5())}),e.ev.on("rsDragStart",function(){e._a5&&(e.st.autoPlay.stopAtAction?e.stopAutoPlay():(e._c5=!0,e._d5()))}),e.ev.on("rsBeforeMove",function(t,i,s){e._a5&&(s&&e.st.autoPlay.stopAtAction?e.stopAutoPlay():(e._c5=!0,e._d5()))}),e._e5=!1,e.ev.on("rsVideoStop",function(){e._a5&&(e._e5=!1,e._b5())}),e.ev.on("rsVideoPlay",function(){e._a5&&(e._c5=!1,e._d5(),e._e5=!0)}),t(window).on("blur"+e.ns,function(){e._a5&&(e._c5=!0,e._d5())}).on("focus"+e.ns,function(){e._a5&&e._c5&&(e._c5=!1,e._b5())}),e.st.autoPlay.pauseOnHover&&(e._f5=!1,e.slider.hover(function(){e._a5&&(e._c5=!1,e._d5(),e._f5=!0)},function(){e._a5&&(e._f5=!1,e._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var t=this;t._f5||t._e5||(t._g5=!0,t._h5&&clearTimeout(t._h5),t._h5=setTimeout(function(){var e;t._z||t.st.loopRewind||(e=!0,t.st.loopRewind=!0),t.next(!0),e&&(t.st.loopRewind=!1)},t.currSlide.customDelay?t.currSlide.customDelay:t.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),t.rsModules.autoplay=t.rsProto._x4}(jQuery),function(t){t.extend(t.rsProto,{_w4:function(){var t=this;if(t.st.autoHeight){var e,i,s,n=!0,r=function(r){s=t.slides[t.currSlideId],(e=s.holder)&&(i=e.height())&&void 0!==i&&i>(t.st.minAutoHeight||30)&&(t._c4=i,t._e||!r?t._e1.css("height",i):t._e1.stop(!0,!0).animate({height:i},t.st.transitionSpeed),t.ev.trigger("rsAutoHeightChange",i),n&&(t._e&&setTimeout(function(){t._e1.css(t._g+"transition","height "+t.st.transitionSpeed+"ms ease-in-out")},16),n=!1))};t.ev.on("rsMaybeSizeReady.rsAutoHeight",function(t,e){s===e&&r()}),t.ev.on("rsAfterContentSet.rsAutoHeight",function(t,e){s===e&&r()}),t.slider.addClass("rsAutoHeight"),t.ev.one("rsAfterInit",function(){setTimeout(function(){r(!1),setTimeout(function(){t.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),t.ev.on("rsBeforeAnimStart",function(){r(!0)}),t.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){r(!1)},16)})}}}),t.rsModules.autoHeight=t.rsProto._w4}(jQuery),function(t){t.extend(t.rsProto,{_d6:function(){var e=this;e.st.globalCaption&&(e.ev.on("rsAfterInit",function(){e.globalCaption=t('<div class="rsGCaption"></div>').appendTo(e.st.globalCaptionInside?e._e1:e.slider),e.globalCaption.html(e.currSlide.caption)}),e.ev.on("rsBeforeAnimStart",function(){e.globalCaption.html(e.currSlide.caption)}))}}),t.rsModules.globalCaption=t.rsProto._d6}(jQuery),/*! VelocityJS.org (1.1.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(t){function e(t){var e=t.length,i=$.type(t);return"function"===i||$.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}if(!t.jQuery){var $=function(t,e){return new $.fn.init(t,e)};$.isWindow=function(t){return null!=t&&t==t.window},$.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?s[r.call(t)]||"object":typeof t},$.isArray=Array.isArray||function(t){return"array"===$.type(t)},$.isPlainObject=function(t){var e;if(!t||"object"!==$.type(t)||t.nodeType||$.isWindow(t))return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(e in t);return void 0===e||n.call(t,e)},$.each=function(t,i,s){var n,r=0,o=t.length,a=e(t);if(s){if(a)for(;o>r&&(n=i.apply(t[r],s),n!==!1);r++);else for(r in t)if(n=i.apply(t[r],s),n===!1)break}else if(a)for(;o>r&&(n=i.call(t[r],r,t[r]),n!==!1);r++);else for(r in t)if(n=i.call(t[r],r,t[r]),n===!1)break;return t},$.data=function(t,e,s){if(void 0===s){var n=t[$.expando],r=n&&i[n];if(void 0===e)return r;if(r&&e in r)return r[e]}else if(void 0!==e){var n=t[$.expando]||(t[$.expando]=++$.uuid);return i[n]=i[n]||{},i[n][e]=s,s}},$.removeData=function(t,e){var s=t[$.expando],n=s&&i[s];n&&$.each(e,function(t,e){delete n[e]})},$.extend=function(){var t,e,i,s,n,r,o=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[a]||{},a++),"object"!=typeof o&&"function"!==$.type(o)&&(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(n=arguments[a]))for(s in n)t=o[s],i=n[s],o!==i&&(h&&i&&($.isPlainObject(i)||(e=$.isArray(i)))?(e?(e=!1,r=t&&$.isArray(t)?t:[]):r=t&&$.isPlainObject(t)?t:{},o[s]=$.extend(h,r,i)):void 0!==i&&(o[s]=i));return o},$.queue=function(t,i,s){function n(t,i){var s=i||[];return null!=t&&(e(Object(t))?!function(t,e){for(var i=+e.length,s=0,n=t.length;i>s;)t[n++]=e[s++];if(i!==i)for(;void 0!==e[s];)t[n++]=e[s++];return t.length=n,t}(s,"string"==typeof t?[t]:t):[].push.call(s,t)),s}if(t){i=(i||"fx")+"queue";var r=$.data(t,i);return s?(!r||$.isArray(s)?r=$.data(t,i,n(s)):r.push(s),r):r||[]}},$.dequeue=function(t,e){$.each(t.nodeType?[t]:t,function(t,i){e=e||"fx";var s=$.queue(i,e),n=s.shift();"inprogress"===n&&(n=s.shift()),n&&("fx"===e&&s.unshift("inprogress"),n.call(i,function(){$.dequeue(i,e)}))})},$.fn=$.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),i=this.offset(),s=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:$(t).offset();return i.top-=parseFloat(e.style.marginTop)||0,i.left-=parseFloat(e.style.marginLeft)||0,t.style&&(s.top+=parseFloat(t.style.borderTopWidth)||0,s.left+=parseFloat(t.style.borderLeftWidth)||0),{top:i.top-s.top,left:i.left-s.left}}};var i={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var s={},n=s.hasOwnProperty,r=s.toString,o="Boolean Number String Function Array Date RegExp Object Error".split(" "),a=0;a<o.length;a++)s["[object "+o[a]+"]"]=o[a].toLowerCase();$.fn.init.prototype=$.fn,t.Velocity={Utilities:$}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,i,s){function n(t){for(var e=-1,i=t?t.length:0,s=[];++e<i;){var n=t[e];n&&s.push(n)}return s}function r(t){return f.isWrapped(t)?t=[].slice.call(t):f.isNode(t)&&(t=[t]),t}function o(t){var e=$.data(t,"velocity");return null===e?s:e}function a(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,i,s,n){function r(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function a(t){return 3*t}function l(t,e,i){return((r(e,i)*t+o(e,i))*t+a(e))*t}function h(t,e,i){return 3*r(e,i)*t*t+2*o(e,i)*t+a(e)}function u(e,i){for(var n=0;m>n;++n){var r=h(i,t,s);if(0===r)return i;var o=l(i,t,s)-e;i-=o/r}return i}function c(){for(var e=0;y>e;++e)S[e]=l(e*w,t,s)}function d(e,i,n){var r,o,a=0;do o=i+(n-i)/2,r=l(o,t,s)-e,r>0?n=o:i=o;while(Math.abs(r)>v&&++a<_);return o}function p(e){for(var i=0,n=1,r=y-1;n!=r&&S[n]<=e;++n)i+=w;--n;var o=(e-S[n])/(S[n+1]-S[n]),a=i+o*w,l=h(a,t,s);return l>=g?u(e,a):0==l?a:d(e,i,i+w)}function f(){P=!0,(t!=i||s!=n)&&c()}var m=4,g=.001,v=1e-7,_=10,y=11,w=1/(y-1),b="Float32Array"in e;if(4!==arguments.length)return!1;for(var x=0;4>x;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;t=Math.min(t,1),s=Math.min(s,1),t=Math.max(t,0),s=Math.max(s,0);var S=b?new Float32Array(y):new Array(y),P=!1,C=function(e){return P||f(),t===i&&s===n?e:0===e?0:1===e?1:l(p(e),i,n)};C.getControlPoints=function(){return[{x:t,y:i},{x:s,y:n}]};var T="generateBezier("+[t,i,s,n]+")";return C.toString=function(){return T},C}function h(t,e){var i=t;return f.isString(t)?_.Easings[t]||(i=!1):i=f.isArray(t)&&1===t.length?a.apply(null,t):f.isArray(t)&&2===t.length?y.apply(null,t.concat([e])):f.isArray(t)&&4===t.length?l.apply(null,t):!1,i===!1&&(i=_.Easings[_.defaults.easing]?_.defaults.easing:v),i}function u(t){if(t)for(var e=(new Date).getTime(),i=0,n=_.State.calls.length;n>i;i++)if(_.State.calls[i]){var r=_.State.calls[i],a=r[0],l=r[2],h=r[3],d=!!h;h||(h=_.State.calls[i][3]=e-16);for(var p=Math.min((e-h)/l.duration,1),m=0,g=a.length;g>m;m++){var v=a[m],y=v.element;if(o(y)){var b=!1;if(l.display!==s&&null!==l.display&&"none"!==l.display){if("flex"===l.display){var S=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(S,function(t,e){w.setPropertyValue(y,"display",e)})}w.setPropertyValue(y,"display",l.display)}l.visibility!==s&&"hidden"!==l.visibility&&w.setPropertyValue(y,"visibility",l.visibility);for(var P in v)if("element"!==P){var C=v[P],T,k=f.isString(C.easing)?_.Easings[C.easing]:C.easing;if(1===p)T=C.endValue;else if(T=C.startValue+(C.endValue-C.startValue)*k(p),!d&&T===C.currentValue)continue;if(C.currentValue=T,w.Hooks.registered[P]){var E=w.Hooks.getRoot(P),F=o(y).rootPropertyValueCache[E];F&&(C.rootPropertyValue=F)}var A=w.setPropertyValue(y,P,C.currentValue+(0===parseFloat(T)?"":C.unitType),C.rootPropertyValue,C.scrollData);w.Hooks.registered[P]&&(o(y).rootPropertyValueCache[E]=w.Normalizations.registered[E]?w.Normalizations.registered[E]("extract",null,A[1]):A[1]),"transform"===A[0]&&(b=!0)}l.mobileHA&&o(y).transformCache.translate3d===s&&(o(y).transformCache.translate3d="(0px, 0px, 0px)",b=!0),b&&w.flushTransformCache(y)}}l.display!==s&&"none"!==l.display&&(_.State.calls[i][2].display=!1),l.visibility!==s&&"hidden"!==l.visibility&&(_.State.calls[i][2].visibility=!1),l.progress&&l.progress.call(r[1],r[1],p,Math.max(0,h+l.duration-e),h),1===p&&c(i)}_.State.isTicking&&x(u)}function c(t,e){if(!_.State.calls[t])return!1;for(var i=_.State.calls[t][0],n=_.State.calls[t][1],r=_.State.calls[t][2],a=_.State.calls[t][4],l=!1,h=0,u=i.length;u>h;h++){var c=i[h].element;if(e||r.loop||("none"===r.display&&w.setPropertyValue(c,"display",r.display),"hidden"===r.visibility&&w.setPropertyValue(c,"visibility",r.visibility)),r.loop!==!0&&($.queue(c)[1]===s||!/\.velocityQueueEntryFlag/i.test($.queue(c)[1]))&&o(c)){o(c).isAnimating=!1,o(c).rootPropertyValueCache={};var d=!1;$.each(w.Lists.transforms3D,function(t,e){var i=/^scale/.test(e)?1:0,n=o(c).transformCache[e];o(c).transformCache[e]!==s&&new RegExp("^\\("+i+"[^.]").test(n)&&(d=!0,delete o(c).transformCache[e])}),r.mobileHA&&(d=!0,delete o(c).transformCache.translate3d),d&&w.flushTransformCache(c),w.Values.removeClass(c,"velocity-animating")}if(!e&&r.complete&&!r.loop&&h===u-1)try{r.complete.call(n,n)}catch(p){setTimeout(function(){throw p},1)}a&&r.loop!==!0&&a(n),r.loop!==!0||e||($.each(o(c).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360)}),_(c,"reverse",{loop:!0,delay:r.delay})),r.queue!==!1&&$.dequeue(c,r.queue)}_.State.calls[t]=!1;for(var f=0,m=_.State.calls.length;m>f;f++)if(_.State.calls[f]!==!1){l=!0;break}l===!1&&(_.State.isTicking=!1,delete _.State.calls,_.State.calls=[])}var d=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return s}(),p=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var i=(new Date).getTime(),s;return s=Math.max(0,16-(i-t)),t=i+s,setTimeout(function(){e(i+s)},s)}}(),f={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==s&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},$,m=!1;if(t.fn&&t.fn.jquery?($=t,m=!0):$=e.Velocity.Utilities,8>=d&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var g=400,v="swing",_={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:g,easing:v,begin:s,complete:s,progress:s,display:s,visibility:s,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){$.data(t,"velocity",{isSVG:f.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};e.pageYOffset!==s?(_.State.scrollAnchor=e,_.State.scrollPropertyLeft="pageXOffset",_.State.scrollPropertyTop="pageYOffset"):(_.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,_.State.scrollPropertyLeft="scrollLeft",_.State.scrollPropertyTop="scrollTop");var y=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,s){var n={x:e.x+s.dx*i,v:e.v+s.dv*i,tension:e.tension,friction:e.friction};return{dx:n.v,dv:t(n)}}function i(i,s){var n={dx:i.v,dv:t(i)},r=e(i,.5*s,n),o=e(i,.5*s,r),a=e(i,s,o),l=1/6*(n.dx+2*(r.dx+o.dx)+a.dx),h=1/6*(n.dv+2*(r.dv+o.dv)+a.dv);return i.x=i.x+l*s,i.v=i.v+h*s,i}return function s(t,e,n){var r={x:-1,v:0,tension:null,friction:null},o=[0],a=0,l=1e-4,h=.016,u,c,d;for(t=parseFloat(t)||500,e=parseFloat(e)||20,n=n||null,r.tension=t,r.friction=e,u=null!==n,u?(a=s(t,e),c=a/n*h):c=h;d=i(d||r,c),o.push(1+d.x),a+=16,Math.abs(d.x)>l&&Math.abs(d.v)>l;);return u?function(t){return o[t*(o.length-1)|0]}:a}}();_.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){_.Easings[e[0]]=l.apply(null,e[1])});var w=_.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<w.Lists.colors.length;t++){var e="color"===w.Lists.colors[t]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[t]]=["Red Green Blue Alpha",e]}var i,s,n;if(d)for(i in w.Hooks.templates){s=w.Hooks.templates[i],n=s[0].split(" ");var r=s[1].match(w.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),r.push(r.shift()),w.Hooks.templates[i]=[n.join(" "),r.join(" ")])}for(i in w.Hooks.templates){s=w.Hooks.templates[i],n=s[0].split(" ");for(var t in n){var o=i+n[t],a=t;w.Hooks.registered[o]=[i,a]}}},getRoot:function(t){var e=w.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return w.RegEx.valueUnwrap.test(e)&&(e=e.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(e)&&(e=w.Hooks.templates[t][1]),e},extractValue:function(t,e){var i=w.Hooks.registered[t];if(i){var s=i[0],n=i[1];return e=w.Hooks.cleanRootPropertyValue(s,e),e.toString().match(w.RegEx.valueSplit)[n]}return e},injectValue:function(t,e,i){var s=w.Hooks.registered[t];if(s){var n=s[0],r=s[1],o,a;return i=w.Hooks.cleanRootPropertyValue(n,i),o=i.toString().match(w.RegEx.valueSplit),o[r]=e,a=o.join(" ")}return i}},Normalizations:{registered:{clip:function(t,e,i){switch(t){case"name":return"clip";case"extract":var s;return w.RegEx.wrappedValueAlreadyExtracted.test(i)?s=i:(s=i.toString().match(w.RegEx.valueUnwrap),s=s?s[1].replace(/,(\s+)?/g," "):i),s;case"inject":return"rect("+i+")"}},blur:function(t,e,i){switch(t){case"name":return"-webkit-filter";case"extract":var s=parseFloat(i);if(!s&&0!==s){var n=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);s=n?n[1]:0}return s;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(t,e,i){if(8>=d)switch(t){case"name":return"filter";case"extract":var s=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=s?s[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(t){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){9>=d||_.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var t=0;t<w.Lists.transformsBase.length;t++)!function(){var e=w.Lists.transformsBase[t];w.Normalizations.registered[e]=function(t,i,n){switch(t){case"name":return"transform";case"extract":return o(i)===s||o(i).transformCache[e]===s?/^scale/i.test(e)?1:0:o(i).transformCache[e].replace(/[()]/g,"");case"inject":var r=!1;switch(e.substr(0,e.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(n);break;case"scal":case"scale":_.State.isAndroid&&o(i).transformCache[e]===s&&1>n&&(n=1),r=!/(\d)$/i.test(n);break;case"skew":r=!/(deg|\d)$/i.test(n);break;case"rotate":r=!/(deg|\d)$/i.test(n)}return r||(o(i).transformCache[e]="("+n+")"),o(i).transformCache[e]}}}();for(var t=0;t<w.Lists.colors.length;t++)!function(){var e=w.Lists.colors[t];w.Normalizations.registered[e]=function(t,i,n){switch(t){case"name":return e;case"extract":var r;if(w.RegEx.wrappedValueAlreadyExtracted.test(n))r=n;else{var o,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(n)?o=a[n]!==s?a[n]:a.black:w.RegEx.isHex.test(n)?o="rgb("+w.Values.hexToRgb(n).join(" ")+")":/^rgba?\(/i.test(n)||(o=a.black),r=(o||n).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return 8>=d?4===n.split(" ").length&&(n=n.split(/\s+/).slice(0,3).join(" ")):3===n.split(" ").length&&(n+=" 1"),(8>=d?"rgb":"rgba")+"("+n.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||_.State.isAndroid&&!_.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(_.State.prefixMatches[t])return[_.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],i=0,s=e.length;s>i;i++){var n;if(n=0===i?t:e[i]+t.replace(/^\w/,function(t){return t.toUpperCase()}),f.isString(_.State.prefixElement.style[n]))return _.State.prefixMatches[t]=n,[n,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,s;return t=t.replace(e,function(t,e,i,s){return e+e+i+i+s+s}),s=i.exec(t),s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,i,n,r){function a(t,i){function n(){h&&w.setPropertyValue(t,"display","none")}var l=0;if(8>=d)l=$.css(t,i);else{var h=!1;if(/^(width|height)$/.test(i)&&0===w.getPropertyValue(t,"display")&&(h=!0,w.setPropertyValue(t,"display",w.Values.getDisplayType(t))),!r){if("height"===i&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var u=t.offsetHeight-(parseFloat(w.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(t,"paddingBottom"))||0);return n(),u}if("width"===i&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetWidth-(parseFloat(w.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(t,"paddingRight"))||0);return n(),c}}var p;p=o(t)===s?e.getComputedStyle(t,null):o(t).computedStyle?o(t).computedStyle:o(t).computedStyle=e.getComputedStyle(t,null),(d||_.State.isFirefox)&&"borderColor"===i&&(i="borderTopColor"),l=9===d&&"filter"===i?p.getPropertyValue(i):p[i],(""===l||null===l)&&(l=t.style[i]),n()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(i)){var f=a(t,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(i))&&(l=$(t).position()[i]+"px")}return l}var l;if(w.Hooks.registered[i]){var h=i,u=w.Hooks.getRoot(h);n===s&&(n=w.getPropertyValue(t,w.Names.prefixCheck(u)[0])),w.Normalizations.registered[u]&&(n=w.Normalizations.registered[u]("extract",t,n)),l=w.Hooks.extractValue(h,n)}else if(w.Normalizations.registered[i]){var c,p;c=w.Normalizations.registered[i]("name",t),"transform"!==c&&(p=a(t,w.Names.prefixCheck(c)[0]),w.Values.isCSSNullValue(p)&&w.Hooks.templates[i]&&(p=w.Hooks.templates[i][1])),l=w.Normalizations.registered[i]("extract",t,p)}return/^[\d-]/.test(l)||(l=o(t)&&o(t).isSVG&&w.Names.SVGAttribute(i)?/^(height|width)$/i.test(i)?t.getBBox()[i]:t.getAttribute(i):a(t,w.Names.prefixCheck(i)[0])),w.Values.isCSSNullValue(l)&&(l=0),_.debug>=2&&console.log("Get "+i+": "+l),l},setPropertyValue:function(t,i,s,n,r){var a=i;if("scroll"===i)r.container?r.container["scroll"+r.direction]=s:"Left"===r.direction?e.scrollTo(s,r.alternateValue):e.scrollTo(r.alternateValue,s);else if(w.Normalizations.registered[i]&&"transform"===w.Normalizations.registered[i]("name",t))w.Normalizations.registered[i]("inject",t,s),a="transform",s=o(t).transformCache[i];else{if(w.Hooks.registered[i]){var l=i,h=w.Hooks.getRoot(i);n=n||w.getPropertyValue(t,h),s=w.Hooks.injectValue(l,s,n),i=h}if(w.Normalizations.registered[i]&&(s=w.Normalizations.registered[i]("inject",t,s),i=w.Normalizations.registered[i]("name",t)),a=w.Names.prefixCheck(i)[0],8>=d)try{t.style[a]=s}catch(u){_.debug&&console.log("Browser does not support ["+s+"] for ["+a+"]")}else o(t)&&o(t).isSVG&&w.Names.SVGAttribute(i)?t.setAttribute(i,s):t.style[a]=s;_.debug>=2&&console.log("Set "+i+" ("+a+"): "+s)}return[a,s]},flushTransformCache:function(t){function e(e){return parseFloat(w.getPropertyValue(t,e))}var i="";if((d||_.State.isAndroid&&!_.State.isChrome)&&o(t).isSVG){var s={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};$.each(o(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),s[t]&&(i+=t+"("+s[t].join(" ")+") ",delete s[t])})}else{var n,r;$.each(o(t).transformCache,function(e){return n=o(t).transformCache[e],"transformPerspective"===e?(r=n,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(i+=e+n+" "))}),r&&(i="perspective"+r+" "+i)}w.setPropertyValue(t,"transform",i)}};w.Hooks.register(),w.Normalizations.register(),_.hook=function(t,e,i){var n=s;return t=r(t),$.each(t,function(t,r){if(o(r)===s&&_.init(r),i===s)n===s&&(n=_.CSS.getPropertyValue(r,e));else{var a=_.CSS.setPropertyValue(r,e,i);"transform"===a[0]&&_.CSS.flushTransformCache(r),n=a}}),n};var b=function(){function t(){return d?k.promise||null:p}function a(){function t(t){function d(t,e){var i=s,n=s,o=s;return f.isArray(t)?(i=t[0],!f.isArray(t[1])&&/^[\d-]/.test(t[1])||f.isFunction(t[1])||w.RegEx.isHex.test(t[1])?o=t[1]:(f.isString(t[1])&&!w.RegEx.isHex.test(t[1])||f.isArray(t[1]))&&(n=e?t[1]:h(t[1],a.duration),t[2]!==s&&(o=t[2]))):i=t,e||(n=n||a.easing),f.isFunction(i)&&(i=i.call(r,P,S)),f.isFunction(o)&&(o=o.call(r,P,S)),[i||0,n,o]}function p(t,e){var i,s;return s=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return i=t,""}),i||(i=w.Values.getUnitType(t)),[s,i]}function m(){var t={myParent:r.parentNode||i.body,position:w.getPropertyValue(r,"position"),fontSize:w.getPropertyValue(r,"fontSize")},s=t.position===I.lastPosition&&t.myParent===I.lastParent,n=t.fontSize===I.lastFontSize;I.lastParent=t.myParent,I.lastPosition=t.position,I.lastFontSize=t.fontSize;var a=100,l={};if(n&&s)l.emToPx=I.lastEmToPx,l.percentToPxWidth=I.lastPercentToPxWidth,l.percentToPxHeight=I.lastPercentToPxHeight;else{var h=o(r).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");_.init(h),t.myParent.appendChild(h),$.each(["overflow","overflowX","overflowY"],function(t,e){_.CSS.setPropertyValue(h,e,"hidden")}),_.CSS.setPropertyValue(h,"position",t.position),_.CSS.setPropertyValue(h,"fontSize",t.fontSize),_.CSS.setPropertyValue(h,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){_.CSS.setPropertyValue(h,e,a+"%")}),_.CSS.setPropertyValue(h,"paddingLeft",a+"em"),l.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(h,"width",null,!0))||1)/a,l.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(h,"height",null,!0))||1)/a,l.emToPx=I.lastEmToPx=(parseFloat(w.getPropertyValue(h,"paddingLeft"))||1)/a,t.myParent.removeChild(h)}return null===I.remToPx&&(I.remToPx=parseFloat(w.getPropertyValue(i.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(e.innerWidth)/100,I.vhToPx=parseFloat(e.innerHeight)/100),l.remToPx=I.remToPx,l.vwToPx=I.vwToPx,l.vhToPx=I.vhToPx,_.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),r),l}if(a.begin&&0===P)try{a.begin.call(v,v)}catch(g){setTimeout(function(){throw g},1)}if("scroll"===E){var b=/^x$/i.test(a.axis)?"Left":"Top",C=parseFloat(a.offset)||0,T,F,A;a.container?f.isWrapped(a.container)||f.isNode(a.container)?(a.container=a.container[0]||a.container,T=a.container["scroll"+b],A=T+$(r).position()[b.toLowerCase()]+C):a.container=null:(T=_.State.scrollAnchor[_.State["scrollProperty"+b]],F=_.State.scrollAnchor[_.State["scrollProperty"+("Left"===b?"Top":"Left")]],A=$(r).offset()[b.toLowerCase()]+C),l={scroll:{rootPropertyValue:!1,startValue:T,currentValue:T,endValue:A,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:b,alternateValue:F}},element:r},_.debug&&console.log("tweensContainer (scroll): ",l.scroll,r)}else if("reverse"===E){if(!o(r).tweensContainer)return void $.dequeue(r,a.queue);"none"===o(r).opts.display&&(o(r).opts.display="auto"),"hidden"===o(r).opts.visibility&&(o(r).opts.visibility="visible"),o(r).opts.loop=!1,o(r).opts.begin=null,o(r).opts.complete=null,x.easing||delete a.easing,x.duration||delete a.duration,a=$.extend({},o(r).opts,a);var M=$.extend(!0,{},o(r).tweensContainer);for(var V in M)if("element"!==V){var z=M[V].startValue;M[V].startValue=M[V].currentValue=M[V].endValue,M[V].endValue=z,f.isEmptyObject(x)||(M[V].easing=a.easing),_.debug&&console.log("reverse tweensContainer ("+V+"): "+JSON.stringify(M[V]),r)}l=M}else if("start"===E){var M;o(r).tweensContainer&&o(r).isAnimating===!0&&(M=o(r).tweensContainer),$.each(y,function(t,e){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(t)){var i=d(e,!0),n=i[0],r=i[1],o=i[2];if(w.RegEx.isHex.test(n)){for(var a=["Red","Green","Blue"],l=w.Values.hexToRgb(n),h=o?w.Values.hexToRgb(o):s,u=0;u<a.length;u++){var c=[l[u]];r&&c.push(r),h!==s&&c.push(h[u]),y[t+a[u]]=c}delete y[t]}}});for(var H in y){var R=d(y[H]),N=R[0],L=R[1],D=R[2];H=w.Names.camelCase(H);var Y=w.Hooks.getRoot(H),X=!1;if(o(r).isSVG||w.Names.prefixCheck(Y)[1]!==!1||w.Normalizations.registered[Y]!==s){(a.display!==s&&null!==a.display&&"none"!==a.display||a.visibility!==s&&"hidden"!==a.visibility)&&/opacity|filter/.test(H)&&!D&&0!==N&&(D=0),a._cacheValues&&M&&M[H]?(D===s&&(D=M[H].endValue+M[H].unitType),X=o(r).rootPropertyValueCache[Y]):w.Hooks.registered[H]?D===s?(X=w.getPropertyValue(r,Y),D=w.getPropertyValue(r,H,X)):X=w.Hooks.templates[Y][1]:D===s&&(D=w.getPropertyValue(r,H));var j,W,q,B=!1;if(j=p(H,D),D=j[0],q=j[1],j=p(H,N),N=j[0].replace(/^([+-\/*])=/,function(t,e){return B=e,""}),W=j[1],D=parseFloat(D)||0,N=parseFloat(N)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(H)?(N/=100,W="em"):/^scale/.test(H)?(N/=100,W=""):/(Red|Green|Blue)$/i.test(H)&&(N=N/100*255,W="")),/[\/*]/.test(B))W=q;else if(q!==W&&0!==D)if(0===N)W=q;else{c=c||m();var U=/margin|padding|left|right|width|text|word|letter/i.test(H)||/X$/.test(H)||"x"===H?"x":"y";switch(q){case"%":D*="x"===U?c.percentToPxWidth:c.percentToPxHeight;break;case"px":break;default:D*=c[q+"ToPx"]}switch(W){case"%":D*=1/("x"===U?c.percentToPxWidth:c.percentToPxHeight);break;case"px":break;default:D*=1/c[W+"ToPx"]}}switch(B){case"+":N=D+N;break;case"-":N=D-N;break;case"*":N=D*N;break;case"/":N=D/N}l[H]={rootPropertyValue:X,startValue:D,currentValue:D,endValue:N,unitType:W,easing:L},_.debug&&console.log("tweensContainer ("+H+"): "+JSON.stringify(l[H]),r)}else _.debug&&console.log("Skipping ["+Y+"] due to a lack of browser support.")}l.element=r}l.element&&(w.Values.addClass(r,"velocity-animating"),O.push(l),""===a.queue&&(o(r).tweensContainer=l,o(r).opts=a),o(r).isAnimating=!0,P===S-1?(_.State.calls.length>1e4&&(_.State.calls=n(_.State.calls)),_.State.calls.push([O,v,a,null,k.resolver]),_.State.isTicking===!1&&(_.State.isTicking=!0,u())):P++)}var r=this,a=$.extend({},_.defaults,x),l={},c;switch(o(r)===s&&_.init(r),parseFloat(a.delay)&&a.queue!==!1&&$.queue(r,a.queue,function(t){_.velocityQueueEntryFlag=!0,o(r).delayTimer={setTimeout:setTimeout(t,parseFloat(a.delay)),next:t}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=g;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}_.mock!==!1&&(_.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(_.mock)||1,a.delay*=parseFloat(_.mock)||1)),a.easing=h(a.easing,a.duration),a.begin&&!f.isFunction(a.begin)&&(a.begin=null),a.progress&&!f.isFunction(a.progress)&&(a.progress=null),a.complete&&!f.isFunction(a.complete)&&(a.complete=null),a.display!==s&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=_.CSS.Values.getDisplayType(r))),a.visibility!==s&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&_.State.isMobile&&!_.State.isGingerbread,a.queue===!1?a.delay?setTimeout(t,a.delay):t():$.queue(r,a.queue,function(e,i){return i===!0?(k.promise&&k.resolver(v),!0):(_.velocityQueueEntryFlag=!0,void t(e))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===$.queue(r)[0]||$.dequeue(r)}var l=arguments[0]&&($.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||f.isString(arguments[0].properties)),d,p,m,v,y,x;if(f.isWrapped(this)?(d=!1,m=0,v=this,p=this):(d=!0,m=1,v=l?arguments[0].elements:arguments[0]),v=r(v)){l?(y=arguments[0].properties,x=arguments[0].options):(y=arguments[m],x=arguments[m+1]);var S=v.length,P=0;if("stop"!==y&&!$.isPlainObject(x)){var C=m+1;x={};for(var T=C;T<arguments.length;T++)f.isArray(arguments[T])||!/^(fast|normal|slow)$/i.test(arguments[T])&&!/^\d/.test(arguments[T])?f.isString(arguments[T])||f.isArray(arguments[T])?x.easing=arguments[T]:f.isFunction(arguments[T])&&(x.complete=arguments[T]):x.duration=arguments[T]}var k={promise:null,resolver:null,rejecter:null};d&&_.Promise&&(k.promise=new _.Promise(function(t,e){k.resolver=t,k.rejecter=e}));var E;switch(y){case"scroll":E="scroll";break;case"reverse":E="reverse";break;case"stop":$.each(v,function(t,e){o(e)&&o(e).delayTimer&&(clearTimeout(o(e).delayTimer.setTimeout),o(e).delayTimer.next&&o(e).delayTimer.next(),delete o(e).delayTimer)});var F=[];return $.each(_.State.calls,function(t,e){e&&$.each(e[1],function(i,n){var r=f.isString(x)?x:"";return x!==s&&e[2].queue!==r?!0:void $.each(v,function(e,i){i===n&&(x!==s&&($.each($.queue(i,r),function(t,e){f.isFunction(e)&&e(null,!0)}),$.queue(i,r,[])),o(i)&&""===r&&$.each(o(i).tweensContainer,function(t,e){e.endValue=e.currentValue}),F.push(t))})})}),$.each(F,function(t,e){c(e,!0)}),k.promise&&k.resolver(v),t();default:if(!$.isPlainObject(y)||f.isEmptyObject(y)){if(f.isString(y)&&_.Redirects[y]){var A=$.extend({},x),M=A.duration,V=A.delay||0;return A.backwards===!0&&(v=$.extend(!0,[],v).reverse()),$.each(v,function(t,e){parseFloat(A.stagger)?A.delay=V+parseFloat(A.stagger)*t:f.isFunction(A.stagger)&&(A.delay=V+A.stagger.call(e,t,S)),A.drag&&(A.duration=parseFloat(M)||(/^(callout|transition)/.test(y)?1e3:g),A.duration=Math.max(A.duration*(A.backwards?1-t/S:(t+1)/S),.75*A.duration,200)),_.Redirects[y].call(e,e,A||{},t,S,v,k.promise?k:s)
}),t()}var z="Velocity: First argument ("+y+") was not a property map, a known action, or a registered redirect. Aborting.";return k.promise?k.rejecter(new Error(z)):console.log(z),t()}E="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];$.each(v,function(t,e){f.isNode(e)&&a.call(e)});var A=$.extend({},_.defaults,x),H;if(A.loop=parseInt(A.loop),H=2*A.loop-1,A.loop)for(var R=0;H>R;R++){var N={delay:A.delay,progress:A.progress};R===H-1&&(N.display=A.display,N.visibility=A.visibility,N.complete=A.complete),b(v,"reverse",N)}return t()}};_=$.extend(b,_),_.animate=b;var x=e.requestAnimationFrame||p;return _.State.isMobile||i.hidden===s||i.addEventListener("visibilitychange",function(){i.hidden?(x=function(t){return setTimeout(function(){t(!0)},16)},u()):x=e.requestAnimationFrame||p}),t.Velocity=_,t!==e&&(t.fn.velocity=b,t.fn.velocity.defaults=_.defaults),$.each(["Down","Up"],function(t,e){_.Redirects["slide"+e]=function(t,i,n,r,o,a){var l=$.extend({},i),h=l.begin,u=l.complete,c={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},d={};l.display===s&&(l.display="Down"===e?"inline"===_.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){h&&h.call(o,o);for(var i in c){d[i]=t.style[i];var s=_.CSS.getPropertyValue(t,i);c[i]="Down"===e?[s,0]:[0,s]}d.overflow=t.style.overflow,t.style.overflow="hidden"},l.complete=function(){for(var e in d)t.style[e]=d[e];u&&u.call(o,o),a&&a.resolver(o)},_(t,c,l)}}),$.each(["In","Out"],function(t,e){_.Redirects["fade"+e]=function(t,i,n,r,o,a){var l=$.extend({},i),h={opacity:"In"===e?1:0},u=l.complete;l.complete=n!==r-1?l.begin=null:function(){u&&u.call(o,o),a&&a.resolver(o)},l.display===s&&(l.display="In"===e?"auto":"none"),_(this,h,l)}}),_}(window.jQuery||window.Zepto||window,window,document)}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function($){"undefined"==typeof $&&"undefined"!=typeof window.jQuery&&($=window.jQuery);var t={attr:function(t,e,i){var s,n={},r=this.msieversion(),o=new RegExp("^"+e,"i");if("undefined"==typeof t||"undefined"==typeof t[0])return{};for(var a in t[0].attributes)if(s=t[0].attributes[a],"undefined"!=typeof s&&null!==s&&(!r||r>=8||s.specified)&&o.test(s.name)){if("undefined"!=typeof i&&new RegExp(i+"$","i").test(s.name))return!0;n[this.camelize(s.name.replace(e,""))]=this.deserializeValue(s.value)}return"undefined"==typeof i?n:!1},setAttr:function(t,e,i,s){t[0].setAttribute(this.dasherize(e+i),String(s))},get:function(t,e){for(var i=0,s=(e||"").split(".");this.isObject(t)||this.isArray(t);)if(t=t[s[i++]],i===s.length)return t;return void 0},hash:function(t){return String(Math.random()).substring(2,t?t+2:9)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return t===Object(t)},deserializeValue:function(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?$.parseJSON(t):t:e):t}catch(i){return t}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return e>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0}},e={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(t){},errorsContainer:function(t){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},i=function(){};i.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(t,e,i){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[t,e,i])},subscribe:function(t,e){return $.listenTo(this,t.toLowerCase(),e),this},unsubscribe:function(t){return $.unsubscribeTo(this,t.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return $.emit("parsley:field:reset",this);for(var t=0;t<this.fields.length;t++)$.emit("parsley:field:reset",this.fields[t]);$.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void $.emit("parsley:field:destroy",this);for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),$.emit("parsley:form:destroy",this)}};var s=function(){var t={},e=function(t){this.__class__="Validator",this.__version__="1.0.0",this.options=t||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint"};e.prototype={constructor:e,validate:function(t,e,i){if("string"!=typeof t&&"object"!=typeof t)throw new Error("You must validate an object or a string");return"string"==typeof t||o(t)?this._validateString(t,e,i):this.isBinded(t)?this._validateBindedObject(t,e):this._validateObject(t,e,i)},bind:function(t,e){if("object"!=typeof t)throw new Error("Must bind a Constraint to an object");return t[this.bindingKey]=new i(e),this},unbind:function(t){return"undefined"==typeof t._validatorjsConstraint?this:(delete t[this.bindingKey],this)},isBinded:function(t){return"undefined"!=typeof t[this.bindingKey]},getBinded:function(t){return this.isBinded(t)?t[this.bindingKey]:null},_validateString:function(t,e,i){var r,a=[];o(e)||(e=[e]);for(var l=0;l<e.length;l++){if(!(e[l]instanceof n))throw new Error("You must give an Assert or an Asserts array to validate a string");r=e[l].check(t,i),r instanceof s&&a.push(r)}return a.length?a:!0},_validateObject:function(t,e,s){if("object"!=typeof e)throw new Error("You must give a constraint to validate an object");return e instanceof i?e.check(t,s):new i(e).check(t,s)},_validateBindedObject:function(t,e){return t[this.bindingKey].check(t,e)}},e.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var i=function(t,e){if(this.__class__="Constraint",this.options=e||{},this.nodes={},t)try{this._bootstrap(t)}catch(i){throw new Error("Should give a valid mapping object to Constraint",i,t)}};i.prototype={constructor:i,check:function(t,e){var i,s={};for(var a in this.nodes){for(var l=!1,h=this.get(a),u=o(h)?h:[h],c=u.length-1;c>=0;c--)"Required"!==u[c].__class__||(l=u[c].requiresValidation(e));if(this.has(a,t)||this.options.strict||l)try{this.has(a,this.options.strict||l?t:void 0)||(new n).HaveProperty(a).validate(t),i=this._check(a,t[a],e),(o(i)&&i.length>0||!o(i)&&!r(i))&&(s[a]=i)}catch(d){s[a]=d}}return r(s)?!0:s},add:function(t,e){if(e instanceof n||o(e)&&e[0]instanceof n)return this.nodes[t]=e,this;if("object"==typeof e&&!o(e))return this.nodes[t]=e instanceof i?e:new i(e),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",e)},has:function(t,e){return e="undefined"!=typeof e?e:this.nodes,"undefined"!=typeof e[t]},get:function(t,e){return this.has(t)?this.nodes[t]:e||null},remove:function(t){var e=[];for(var i in this.nodes)i!==t&&(e[i]=this.nodes[i]);return this.nodes=e,this},_bootstrap:function(t){if(t instanceof i)return this.nodes=t.nodes;for(var e in t)this.add(e,t[e])},_check:function(t,e,s){if(this.nodes[t]instanceof n)return this._checkAsserts(e,[this.nodes[t]],s);if(o(this.nodes[t]))return this._checkAsserts(e,this.nodes[t],s);if(this.nodes[t]instanceof i)return this.nodes[t].check(e,s);throw new Error("Invalid node",this.nodes[t])},_checkAsserts:function(t,e,i){for(var s,n=[],r=0;r<e.length;r++)s=e[r].check(t,i),"undefined"!=typeof s&&!0!==s&&n.push(s);return n}};var s=function(t,e,i){if(this.__class__="Violation",!(t instanceof n))throw new Error("Should give an assertion implementing the Assert interface");this.assert=t,this.value=e,"undefined"!=typeof i&&(this.violation=i)};s.prototype={show:function(){var t={assert:this.assert.__class__,value:this.value};return this.violation&&(t.violation=this.violation),t},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var t,e;for(t in this.violation)e=this.violation[t];return{constraint:t,expected:e}}};var n=function(t){this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof t&&this.addGroup(t)};n.prototype={construct:n,requiresValidation:function(t){return t&&!this.hasGroup(t)?!1:!t&&this.hasGroups()?!1:!0},check:function(t,e){if(this.requiresValidation(e))try{return this.validate(t,e)}catch(i){return i}},hasGroup:function(t){return o(t)?this.hasOneOf(t):"Any"===t?!0:this.hasGroups()?-1!==this.groups.indexOf(t):"Default"===t},hasOneOf:function(t){for(var e=0;e<t.length;e++)if(this.hasGroup(t[e]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(t){return o(t)?this.addGroups(t):(this.hasGroup(t)||this.groups.push(t),this)},removeGroup:function(t){for(var e=[],i=0;i<this.groups.length;i++)t!==this.groups[i]&&e.push(this.groups[i]);return this.groups=e,this},addGroups:function(t){for(var e=0;e<t.length;e++)this.addGroup(t[e]);return this},HaveProperty:function(t){return this.__class__="HaveProperty",this.node=t,this.validate=function(t){if("undefined"==typeof t[this.node])throw new s(this,t,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(t){if("string"!=typeof t)throw new s(this,t,{value:e.errorCode.must_be_a_string});if(""!==t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new s(this,t);return!0},this},Callback:function(t){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof t)throw new Error("Callback must be instanciated with a function");return this.fn=t,this.validate=function(t){var e=this.fn.apply(this,[t].concat(this.arguments));if(!0!==e)throw new s(this,t,{result:e});return!0},this},Choice:function(t){if(this.__class__="Choice",!o(t)&&"function"!=typeof t)throw new Error("Choice must be instanciated with an array or a function");return this.list=t,this.validate=function(t){for(var e="function"==typeof this.list?this.list():this.list,i=0;i<e.length;i++)if(t===e[i])return!0;throw new s(this,t,{choices:e})},this},Collection:function(t){return this.__class__="Collection",this.constraint="undefined"!=typeof t?t instanceof n?t:new i(t):!1,this.validate=function(t,i){var n,a=new e,l=0,h={},u=this.groups.length?this.groups:i;if(!o(t))throw new s(this,array,{value:e.errorCode.must_be_an_array});for(var c=0;c<t.length;c++)n=this.constraint?a.validate(t[c],this.constraint,u):a.validate(t[c],u),r(n)||(h[l]=n),l++;return r(h)?!0:h},this},Count:function(t){return this.__class__="Count",this.count=t,this.validate=function(t){if(!o(t))throw new s(this,t,{value:e.errorCode.must_be_an_array});var i="function"==typeof this.count?this.count(t):this.count;if(isNaN(Number(i)))throw new Error("Count must be a valid interger",i);if(i!==t.length)throw new s(this,t,{count:i});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(t){var i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof t)throw new s(this,t,{value:e.errorCode.must_be_a_string});if(!i.test(t))throw new s(this,t);return!0},this},EqualTo:function(t){if(this.__class__="EqualTo","undefined"==typeof t)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=t,this.validate=function(t){var e="function"==typeof this.reference?this.reference(t):this.reference;if(e!==t)throw new s(this,t,{value:e});return!0},this},GreaterThan:function(t){if(this.__class__="GreaterThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new s(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>=t)throw new s(this,t,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(t){if(this.__class__="GreaterThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new s(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold>t)throw new s(this,t,{threshold:this.threshold});return!0},this},InstanceOf:function(t){if(this.__class__="InstanceOf","undefined"==typeof t)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=t,this.validate=function(t){if(!0!=t instanceof this.classRef)throw new s(this,t,{classRef:this.classRef});return!0},this},Length:function(t){if(this.__class__="Length",!t.min&&!t.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=t.min,this.max=t.max,this.validate=function(t){if("string"!=typeof t&&!o(t))throw new s(this,t,{value:e.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&t.length!==this.min)throw new s(this,t,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&t.length>this.max)throw new s(this,t,{max:this.max});if("undefined"!=typeof this.min&&t.length<this.min)throw new s(this,t,{min:this.min});return!0},this},LessThan:function(t){if(this.__class__="LessThan","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new s(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<=t)throw new s(this,t,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(t){if(this.__class__="LessThanOrEqual","undefined"==typeof t)throw new Error("Should give a threshold value");return this.threshold=t,this.validate=function(t){if(""===t||isNaN(Number(t)))throw new s(this,t,{value:e.errorCode.must_be_a_number});if(this.threshold<t)throw new s(this,t,{threshold:this.threshold});return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(t){if(null===t||"undefined"==typeof t)throw new s(this,t);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(t){if("string"!=typeof t)throw new s(this,t,{value:e.errorCode.must_be_a_string});if(""===t.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new s(this,t);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(t){if(null!==t)throw new s(this,t);return!0},this},Range:function(t,e){if(this.__class__="Range","undefined"==typeof t||"undefined"==typeof e)throw new Error("Range assert expects min and max values");return this.min=t,this.max=e,this.validate=function(t){try{return"string"==typeof t&&isNaN(Number(t))||o(t)?(new n).Length({min:this.min,max:this.max}).validate(t):(new n).GreaterThanOrEqual(this.min).validate(t)&&(new n).LessThanOrEqual(this.max).validate(t),!0}catch(e){throw new s(this,t,e.violation)}return!0},this},Regexp:function(t,i){if(this.__class__="Regexp","undefined"==typeof t)throw new Error("You must give a regexp");return this.regexp=t,this.flag=i||"",this.validate=function(t){if("string"!=typeof t)throw new s(this,t,{value:e.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(t))throw new s(this,t,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(t){if("undefined"==typeof t)throw new s(this,t);try{"string"==typeof t?(new n).NotNull().validate(t)&&(new n).NotBlank().validate(t):!0===o(t)&&(new n).Length({min:1}).validate(t)}catch(e){throw new s(this,t)}return!0},this},Unique:function(t){return this.__class__="Unique","object"==typeof t&&(this.key=t.key),this.validate=function(t){var i,n=[];if(!o(t))throw new s(this,t,{value:e.errorCode.must_be_an_array});for(var r=0;r<t.length;r++)if(i="object"==typeof t[r]?t[r][this.key]:t[r],"undefined"!=typeof i){if(-1!==n.indexOf(i))throw new s(this,t,{value:i});n.push(i)}return!0},this}},t.Assert=n,t.Validator=e,t.Violation=s,t.Constraint=i,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=0;if(arguments.length>1&&(s=Number(arguments[1]),s!=s?s=0:0!==s&&1/0!=s&&s!=-1/0&&(s=(s>0||-1)*Math.floor(Math.abs(s)))),s>=i)return-1;for(var n=s>=0?s:Math.max(i-Math.abs(s),0);i>n;n++)if(n in e&&e[n]===t)return n;return-1});var r=function(t){for(var e in t)return!1;return!0},o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};return"function"==typeof define&&define.amd?define("vendors/validator.js/dist/validator",[],function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]=t,t}();s="undefined"!=typeof s?s:"undefined"!=typeof module?module.exports:null;var n=function(t,e){this.__class__="ParsleyValidator",this.Validator=s,this.locale="en",this.init(t||{},e||{})};n.prototype={init:function(t,e){this.catalog=e;for(var i in t)this.addValidator(i,t[i].fn,t[i].priority,t[i].requirementsTransformer);$.emit("parsley:validator:init")},setLocale:function(t){if("undefined"==typeof this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,i){return"object"==typeof e&&(this.catalog[t]=e),!0===i?this.setLocale(t):this},addMessage:function(t,e,i){return"undefined"==typeof this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e.toLowerCase()]=i,this},validate:function(t,e,i){return(new this.Validator.Validator).validate.apply(new s.Validator,arguments)},addValidator:function(t,e,i,n){return this.validators[t.toLowerCase()]=function(t){return $.extend((new s.Assert).Callback(e,t),{priority:i,requirementsTransformer:n})},this},updateValidator:function(t,e,i,s){return this.addValidator(t,e,i,s)},removeValidator:function(t){return delete this.validators[t],this},getErrorMessage:function(t){var e;return e="type"===t.name?this.catalog[this.locale][t.name][t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements),""!==e?e:this.catalog[this.locale].defaultMessage},formatMessage:function(t,e){if("object"==typeof e){for(var i in e)t=this.formatMessage(t,e[i]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},validators:{notblank:function(){return $.extend((new s.Assert).NotBlank(),{priority:2})},required:function(){return $.extend((new s.Assert).Required(),{priority:512})},type:function(t){var e;switch(t){case"email":e=(new s.Assert).Email();break;case"range":case"number":e=(new s.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":e=(new s.Assert).Regexp("^-?\\d+$");break;case"digits":e=(new s.Assert).Regexp("^\\d+$");break;case"alphanum":e=(new s.Assert).Regexp("^\\w+$","i");break;case"url":e=(new s.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+t+"` is not supported")}return $.extend(e,{priority:256})},pattern:function(t){var e="";return/^\/.*\/(?:[gimy]*)$/.test(t)&&(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")),$.extend((new s.Assert).Regexp(t,e),{priority:64})},minlength:function(t){return $.extend((new s.Assert).Length({min:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},maxlength:function(t){return $.extend((new s.Assert).Length({max:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},length:function(t){return $.extend((new s.Assert).Length({min:t[0],max:t[1]}),{priority:32})},mincheck:function(t){return this.minlength(t)},maxcheck:function(t){return this.maxlength(t)},check:function(t){return this.length(t)},min:function(t){return $.extend((new s.Assert).GreaterThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},max:function(t){return $.extend((new s.Assert).LessThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},range:function(t){return $.extend((new s.Assert).Range(t[0],t[1]),{priority:32,requirementsTransformer:function(){for(var e=0;e<t.length;e++)t[e]="string"!=typeof t[e]||isNaN(t[e])?t[e]:parseInt(t[e],10);return t}})},equalto:function(t){return $.extend((new s.Assert).EqualTo(t),{priority:256,requirementsTransformer:function(){return $(t).length?$(t).val():t}})}}};var r=function(t){this.__class__="ParsleyUI"};r.prototype={listen:function(){return $.listen("parsley:form:init",this,this.setupForm),$.listen("parsley:field:init",this,this.setupField),$.listen("parsley:field:validated",this,this.reflow),$.listen("parsley:form:validated",this,this.focus),$.listen("parsley:field:reset",this,this.reset),$.listen("parsley:form:destroy",this,this.destroy),$.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(t){if("undefined"!=typeof t._ui&&!1!==t._ui.active){var e=this._diff(t.validationResult,t._ui.lastValidationResult);t._ui.lastValidationResult=t.validationResult,t._ui.validatedOnce=!0,this.manageStatusClass(t),this.manageErrorsMessages(t,e),this.actualizeTriggers(t),(e.kept.length||e.added.length)&&"undefined"==typeof t._ui.failedOnce&&this.manageFailingFieldTrigger(t)}},getErrorsMessages:function(t){if(!0===t.validationResult)return[];for(var e=[],i=0;i<t.validationResult.length;i++)e.push(this._getErrorMessage(t,t.validationResult[i].assert));return e},manageStatusClass:function(t){!0===t.validationResult?this._successClass(t):t.validationResult.length>0?this._errorClass(t):this._resetClass(t)},manageErrorsMessages:function(t,e){if("undefined"==typeof t.options.errorsMessagesDisabled){if("undefined"!=typeof t.options.errorMessage)return e.added.length||e.kept.length?(0===t._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&t._ui.$errorsWrapper.append($(t.options.errorTemplate).addClass("parsley-custom-error-message")),t._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(t.options.errorMessage)):t._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<e.removed.length;i++)this.removeError(t,e.removed[i].assert.name,!0);for(i=0;i<e.added.length;i++)this.addError(t,e.added[i].assert.name,void 0,e.added[i].assert,!0);for(i=0;i<e.kept.length;i++)this.updateError(t,e.kept[i].assert.name,void 0,e.kept[i].assert,!0)}},addError:function(t,e,i,s,n){t._ui.$errorsWrapper.addClass("filled").append($(t.options.errorTemplate).addClass("parsley-"+e).html(i||this._getErrorMessage(t,s))),!0!==n&&this._errorClass(t)},updateError:function(t,e,i,s,n){t._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(i||this._getErrorMessage(t,s)),!0!==n&&this._errorClass(t)},removeError:function(t,e,i){t._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove(),!0!==i&&this.manageStatusClass(t)},focus:function(t){if(!0===t.validationResult||"none"===t.options.focus)return t._focusedField=null;t._focusedField=null;for(var e=0;e<t.fields.length;e++)if(!0!==t.fields[e].validationResult&&t.fields[e].validationResult.length>0&&"undefined"==typeof t.fields[e].options.noFocus){if("first"===t.options.focus)return t._focusedField=t.fields[e].$element,t._focusedField.focus();t._focusedField=t.fields[e].$element}return null===t._focusedField?null:t._focusedField.focus()},_getErrorMessage:function(t,e){var i=e.name+"Message";return"undefined"!=typeof t.options[i]?window.ParsleyValidator.formatMessage(t.options[i],e.requirements):window.ParsleyValidator.getErrorMessage(e)},_diff:function(t,e,i){for(var s=[],n=[],r=0;r<t.length;r++){for(var o=!1,a=0;a<e.length;a++)if(t[r].assert.name===e[a].assert.name){o=!0;break}o?n.push(t[r]):s.push(t[r])}return{kept:n,added:s,removed:i?[]:this._diff(e,t,!0).added}},setupForm:function(t){t.$element.on("submit.Parsley",!1,$.proxy(t.onSubmitValidate,t)),!1!==t.options.uiEnabled&&t.$element.attr("novalidate","")},setupField:function(t){var e={active:!1};!1!==t.options.uiEnabled&&(e.active=!0,t.$element.attr(t.options.namespace+"id",t.__id__),e.$errorClassHandler=this._manageClassHandler(t),e.errorsWrapperId="parsley-id-"+("undefined"!=typeof t.options.multiple?"multiple-"+t.options.multiple:t.__id__),e.$errorsWrapper=$(t.options.errorsWrapper).attr("id",e.errorsWrapperId),e.lastValidationResult=[],e.validatedOnce=!1,e.validationInformationVisible=!1,t._ui=e,t.$element.is(t.options.excluded)||this._insertErrorWrapper(t),this.actualizeTriggers(t))},_manageClassHandler:function(t){if("string"==typeof t.options.classHandler&&$(t.options.classHandler).length)return $(t.options.classHandler);var e=t.options.classHandler(t);return"undefined"!=typeof e&&e.length?e:"undefined"==typeof t.options.multiple||t.$element.is("select")?t.$element:t.$element.parent()},_insertErrorWrapper:function(t){var e;if("string"==typeof t.options.errorsContainer){if($(t.options.errorsContainer).length)return $(t.options.errorsContainer).append(t._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+t.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof t.options.errorsContainer&&(e=t.options.errorsContainer(t));return"undefined"!=typeof e&&e.length?e.append(t._ui.$errorsWrapper):"undefined"==typeof t.options.multiple?t.$element.after(t._ui.$errorsWrapper):t.$element.parent().after(t._ui.$errorsWrapper)},actualizeTriggers:function(t){var e=this;if(t.options.multiple?$("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){$(this).off(".Parsley")}):t.$element.off(".Parsley"),!1!==t.options.trigger){var i=t.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==i&&(t.options.multiple?$("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){$(this).on(i.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof t.eventValidate?t.eventValidate:e.eventValidate,t))}):t.$element.on(i.split(" ").join(".Parsley ")+".Parsley",!1,$.proxy("function"==typeof t.eventValidate?t.eventValidate:this.eventValidate,t)))}},eventValidate:function(t){new RegExp("key").test(t.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(t){return t._ui.failedOnce=!0,t.options.multiple&&$("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){return new RegExp("change","i").test($(this).parsley().options.trigger||"")?void 0:$(this).on("change.ParsleyFailedOnce",!1,$.proxy(t.validate,t))}),t.$element.is("select")&&!new RegExp("change","i").test(t.options.trigger||"")?t.$element.on("change.ParsleyFailedOnce",!1,$.proxy(t.validate,t)):new RegExp("keyup","i").test(t.options.trigger||"")?void 0:t.$element.on("keyup.ParsleyFailedOnce",!1,$.proxy(t.validate,t))},reset:function(t){t.$element.off(".Parsley"),t.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof t._ui&&"ParsleyForm"!==t.__class__&&(t._ui.$errorsWrapper.children().each(function(){$(this).remove()}),this._resetClass(t),t._ui.validatedOnce=!1,t._ui.lastValidationResult=[],t._ui.validationInformationVisible=!1)},destroy:function(t){this.reset(t),"ParsleyForm"!==t.__class__&&("undefined"!=typeof t._ui&&t._ui.$errorsWrapper.remove(),delete t._ui)},_successClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.errorClass).addClass(t.options.successClass)},_errorClass:function(t){t._ui.validationInformationVisible=!0,t._ui.$errorClassHandler.removeClass(t.options.successClass).addClass(t.options.errorClass)},_resetClass:function(t){t._ui.$errorClassHandler.removeClass(t.options.successClass).removeClass(t.options.errorClass)}};var o=function(e,i,s,n){this.__class__="OptionsFactory",this.__id__=t.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=$.extend(!0,{},e,i,s,{namespace:n})};o.prototype={get:function(t){if("undefined"==typeof t.__class__)throw new Error("Parsley Instance expected");switch(t.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(t);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(t);default:throw new Error("Instance "+t.__class__+" is not supported")}},getFormOptions:function(e){return this.formOptions=t.attr(e.$element,this.staticOptions.namespace),$.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(e){return this.fieldOptions=t.attr(e.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof e.parent&&(this.formOptions=this.getFormOptions(e.parent)),$.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var a=function(e,i){if(this.__class__="ParsleyForm",this.__id__=t.hash(4),"OptionsFactory"!==t.get(i,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=i,this.$element=$(e),this.validationResult=null,this.options=this.OptionsFactory.get(this)};a.prototype={onSubmitValidate:function(t){return this.validate(void 0,void 0,t),!1===this.validationResult&&t instanceof $.Event&&(t.stopImmediatePropagation(),t.preventDefault()),this},validate:function(t,e,i){this.submitEvent=i,this.validationResult=!0;var s=[];this._refreshFields(),$.emit("parsley:form:validate",this);for(var n=0;n<this.fields.length;n++)(!t||this._isFieldInGroup(this.fields[n],t))&&(s=this.fields[n].validate(e),!0!==s&&s.length>0&&this.validationResult&&(this.validationResult=!1));return $.emit("parsley:form:validated",this),this.validationResult},isValid:function(t,e){this._refreshFields();for(var i=0;i<this.fields.length;i++)if((!t||this._isFieldInGroup(this.fields[i],t))&&!1===this.fields[i].isValid(e))return!1;return!0},_isFieldInGroup:function(e,i){return t.isArray(e.options.group)?-1!==$.inArray(e.options.group,i):e.options.group===i},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var e=new window.Parsley(this,{},t);"ParsleyField"!==e.__class__&&"ParsleyFieldMultiple"!==e.__class__||e.$element.is(e.options.excluded)||"undefined"==typeof t.fieldsMappedById[e.__class__+"-"+e.__id__]&&(t.fieldsMappedById[e.__class__+"-"+e.__id__]=e,t.fields.push(e))}),this}};var l=function(e,i,s,n,r){if(!new RegExp("ParsleyField").test(t.get(e,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");
if("function"!=typeof window.ParsleyValidator.validators[i]&&"Assert"!==window.ParsleyValidator.validators[i](s).__parentClass__)throw new Error("Valid validator expected");var o=function(e,i){return"undefined"!=typeof e.options[i+"Priority"]?e.options[i+"Priority"]:t.get(window.ParsleyValidator.validators[i](s),"priority")||2};return n=n||o(e,i),"function"==typeof window.ParsleyValidator.validators[i](s).requirementsTransformer&&(s=window.ParsleyValidator.validators[i](s).requirementsTransformer()),$.extend(window.ParsleyValidator.validators[i](s),{name:i,requirements:s,priority:n,groups:[n],isDomConstraint:r||t.attr(e.$element,e.options.namespace,i)})},h=function(e,i,s){this.__class__="ParsleyField",this.__id__=t.hash(4),this.$element=$(e),"undefined"!=typeof s?(this.parent=s,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=i,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};h.prototype={validate:function(t){return this.value=this.getValue(),$.emit("parsley:field:validate",this),$.emit("parsley:field:"+(this.isValid(t,this.value)?"success":"error"),this),$.emit("parsley:field:validated",this),this.validationResult},isValid:function(t,e){this.refreshConstraints();var i=this._getConstraintsSortedPriorities();if(e=e||this.getValue(),0===e.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==t)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(e,this.constraints,"Any"));for(var s=0;s<i.length;s++)if(!0!==(this.validationResult=this.validateThroughValidator(e,this.constraints,i[s])))return!1;return!0},getValue:function(){var t;return t="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof t||null===t?"":!0===this.options.trimValue?t.replace(/^\s+|\s+$/g,""):t},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(t,e,i,s){if(t=t.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[t]){var n=new l(this,t,e,i,s);"undefined"!==this.constraintsByName[n.name]&&this.removeConstraint(n.name),this.constraints.push(n),this.constraintsByName[n.name]=n}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return this},updateConstraint:function(t,e,i){return this.removeConstraint(t).addConstraint(t,e,i)},_bindConstraints:function(){for(var t=[],e=0;e<this.constraints.length;e++)!1===this.constraints[e].isDomConstraint&&t.push(this.constraints[e]);this.constraints=t;for(var i in this.options)this.addConstraint(i,this.options[i]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var t=this.$element.attr("type");return"undefined"==typeof t?this:"number"===t?this.addConstraint("type","integer",void 0,!0):new RegExp(t,"i").test("email url range")?this.addConstraint("type",t,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var t=[],e=0;e<this.constraints.length;e++)-1===t.indexOf(this.constraints[e].priority)&&t.push(this.constraints[e].priority);return t.sort(function(t,e){return e-t}),t}};var u=function(){this.__class__="ParsleyFieldMultiple"};u.prototype={addElement:function(t){return this.$elements.push(t),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++)if($("html").has(this.$elements[e]).length){t=this.$elements[e].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}else this.$elements.splice(e,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var t=[];return $("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){t.push($(this).val())}),t.length?t:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(t){return this.$elements=[this.$element],this.options.multiple=t,this}};var c=$({}),d={};$.listen=function(t){if("undefined"==typeof d[t]&&(d[t]=[]),"function"==typeof arguments[1])return d[t].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return d[t].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},$.listenTo=function(t,e,i){if("undefined"==typeof d[e]&&(d[e]=[]),!(t instanceof h||t instanceof a))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");d[e].push({instance:t,fn:i})},$.unsubscribe=function(t,e){if("undefined"!=typeof d[t]){if("string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");for(var i=0;i<d[t].length;i++)if(d[t][i].fn===e)return d[t].splice(i,1)}},$.unsubscribeTo=function(t,e){if("undefined"!=typeof d[e]){if(!(t instanceof h||t instanceof a))throw new Error("Must give Parsley instance");for(var i=0;i<d[e].length;i++)if("undefined"!=typeof d[e][i].instance&&d[e][i].instance.__id__===t.__id__)return d[e].splice(i,1)}},$.unsubscribeAll=function(t){"undefined"!=typeof d[t]&&delete d[t]},$.emit=function(t,e){if("undefined"!=typeof d[t])for(var i=0;i<d[t].length;i++)if("undefined"!=typeof d[t][i].instance){if(e instanceof h||e instanceof a)if(d[t][i].instance.__id__!==e.__id__){if(d[t][i].instance instanceof a&&e instanceof h)for(var s=0;s<d[t][i].instance.fields.length;s++)if(d[t][i].instance.fields[s].__id__===e.__id__){d[t][i].fn.apply(c,Array.prototype.slice.call(arguments,1));continue}}else d[t][i].fn.apply(c,Array.prototype.slice.call(arguments,1))}else d[t][i].fn.apply("undefined"!=typeof d[t][i].ctxt?d[t][i].ctxt:c,Array.prototype.slice.call(arguments,1))},$.subscribed=function(){return d},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var p=function(e,i,s){if(this.__class__="Parsley",this.__version__="2.0.5",this.__id__=t.hash(4),"undefined"==typeof e)throw new Error("You must give an element");if("undefined"!=typeof s&&"ParsleyForm"!==s.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init($(e),i,s)};p.prototype={init:function(i,s,n){if(!i.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=i,this.$element.data("Parsley")){var r=this.$element.data("Parsley");return"undefined"!=typeof n&&(r.parent=n),r}return this.OptionsFactory=new o(e,t.get(window,"ParsleyConfig")||{},s,this.getNamespace(s)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||t.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(n):this.bind("parsleyField",n):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(e){var i=this,s,n,r;if(this.options=$.extend(this.options,e?e.OptionsFactory.get(e):{},t.attr(this.$element,this.options.namespace)),this.options.multiple?n=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?n=s=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(n=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",e,n||this.__id__);if("undefined"==typeof n)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(n=n.replace(/(:|\.|\[|\]|\$)/g,""),"undefined"!=typeof s&&$('input[name="'+s+'"]').each(function(){$(this).is("input[type=radio], input[type=checkbox]")&&$(this).attr(i.options.namespace+"multiple",n)}),$("["+this.options.namespace+"multiple="+n+"]").length)for(var o=0;o<$("["+this.options.namespace+"multiple="+n+"]").length;o++)if("undefined"!=typeof $($("["+this.options.namespace+"multiple="+n+"]").get(o)).data("Parsley")){r=$($("["+this.options.namespace+"multiple="+n+"]").get(o)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(r.addElement(this.$element),this.$element.attr(this.options.namespace+"id",r.__id__));break}return this.bind("parsleyField",e,n,!0),r||this.bind("parsleyFieldMultiple",e,n)},getNamespace:function(i){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof t.get(i,"namespace")?i.namespace:"undefined"!=typeof t.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:e.namespace},bind:function(e,s,n,r){var o;switch(e){case"parsleyForm":o=$.extend(new a(this.$element,this.OptionsFactory),new i,window.ParsleyExtend)._bindFields();break;case"parsleyField":o=$.extend(new h(this.$element,this.OptionsFactory,s),new i,window.ParsleyExtend);break;case"parsleyFieldMultiple":o=$.extend(new h(this.$element,this.OptionsFactory,s),new i,new u,window.ParsleyExtend)._init(n);break;default:throw new Error(e+"is not a supported Parsley type")}return"undefined"!=typeof n&&t.setAttr(this.$element,this.options.namespace,"multiple",n),"undefined"!=typeof r?(this.$element.data("ParsleyFieldMultiple",o),o):(new RegExp("ParsleyF","i").test(o.__class__)&&(this.$element.data("Parsley",o),$.emit("parsley:"+("parsleyForm"===e?"form":"field")+":init",o)),o)}},$.fn.parsley=$.fn.psly=function(t){if(this.length>1){var e=[];return this.each(function(){e.push($(this).parsley(t))}),e}return $(this).length?new p(this,t):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof t.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new r).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=p,window.ParsleyUtils=t,window.ParsleyValidator=new n(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==t.get(window,"ParsleyConfig.autoBind")&&$(document).ready(function(){$("[data-parsley-validate]").length&&$("[data-parsley-validate]").parsley()})}),window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.ru=$.extend(window.ParsleyConfig.i18n.ru||{},{defaultMessage:"Некорректное значение.",type:{email:"Введите адрес электронной почты.",url:"Введите URL адрес.",number:"Введите число.",integer:"Введите целое число.",digits:"Введите только цифры.",alphanum:"Введите буквенно-цифровое значение."},notblank:"Это поле должно быть заполнено.",required:"Обязательное поле.",pattern:"Это значение некорректно.",min:"Это значение должно быть не менее чем %s.",max:"Это значение должно быть не более чем %s.",range:"Это значение должно быть в интервале от %s до %s.",minlength:"Введите не менее %s символов.",maxlength:"Введите не более %s символов.",length:"Длина строки должна быть от %s до %s символов.",mincheck:"Выберите не менее %s значений.",maxcheck:"Выберите не более %s значений.",check:"Выберите от %s до %s значений.",equalto:"Это значение должно совпадать."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("ru",window.ParsleyConfig.i18n.ru,!0),function(t,e,i){function s(t,i){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var s in i)this.options[s]=i[s];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function n(t,i,s){var n=e.createElement("div"),r=e.createElement("div");return s===!0&&(n.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(s===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(s===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",i||(n.style.pointerEvents="none"),n.appendChild(r),n}function r(i,s){this.wrapper="string"==typeof s.el?e.querySelector(s.el):s.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in s)this.options[n]=s[n];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function s(t){return o===!1?!1:""===o?t:o+t.charAt(0).toUpperCase()+t.substr(1)}var n={},r=e.createElement("div").style,o=function(){for(var t=["t","webkitT","MozT","msT","OT"],e,i=0,s=t.length;s>i;i++)if(e=t[i]+"ransform",e in r)return t[i].substr(0,t[i].length-1);return!1}();n.getTime=Date.now||function l(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,s){t.addEventListener(e,i,!!s)},n.removeEvent=function(t,e,i,s){t.removeEventListener(e,i,!!s)},n.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},n.momentum=function(t,e,s,n,r,o){var a=t-e,l=i.abs(a)/s,h,u;return o=void 0===o?6e-4:o,h=t+l*l/(2*o)*(0>a?-1:1),u=l/o,n>h?(h=r?n-r/2.5*(l/8):n,a=i.abs(h-t),u=a/l):h>0&&(h=r?r/2.5*(l/8):0,a=i.abs(t)+h,u=a/l),{destination:i.round(h),duration:u}};var a=s("transform");return n.extend(n,{hasTransform:a!==!1,hasPerspective:s("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:s("transition")in r}),n.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),n.extend(n.style={},{transform:a,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin")}),n.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,s=.4;return 0===t?0:1==t?1:s*i.pow(2,-10*t)*i.sin(2*(t-e/4)*i.PI/e)+1}}}),n.tap=function(t,i){var s=e.createEvent("Event");s.initEvent(i,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)},n.click=function(t){var i=t.target,s;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(s=e.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),s._constructed=!0,i.dispatchEvent(s))},n}();s.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=a.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&a.eventType[t.type]!==this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e=t.touches?t.touches[0]:t,s;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,s=this.getComputedPosition(),this._translate(i.round(s.x),i.round(s.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e=t.touches?t.touches[0]:t,s=e.pageX-this.pointX,n=e.pageY-this.pointY,r=a.getTime(),o,l,h,u;if(this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=s,this.distY+=n,h=i.abs(this.distX),u=i.abs(this.distY),!(r-this.endTime>300&&10>h&&10>u)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=h>u+this.options.directionLockThreshold?"h":u>=h+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);n=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);s=0}s=this.hasHorizontalScroll?s:0,n=this.hasVerticalScroll?n:0,o=this.x+s,l=this.y+n,(o>0||o<this.maxScrollX)&&(o=this.options.bounce?this.x+s/3:o>0?0:this.maxScrollX),(l>0||l<this.maxScrollY)&&(l=this.options.bounce?this.y+n/3:l>0?0:this.maxScrollY),this.directionX=s>0?-1:0>s?1:0,this.directionY=n>0?-1:0>n?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(o,l),r-this.startTime>300&&(this.startTime=r,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e=t.changedTouches?t.changedTouches[0]:t,s,n,r=a.getTime()-this.startTime,o=i.round(this.x),l=i.round(this.y),h=i.abs(o-this.startX),u=i.abs(l-this.startY),c=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,l),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>r&&100>h&&100>u)return void this._execEvent("flick");if(this.options.momentum&&300>r&&(s=this.hasHorizontalScroll?a.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?a.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:l,duration:0},o=s.destination,l=n.destination,c=i.max(s.duration,n.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(o,l);this.currentPage=p,c=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-p.x),1e3),i.min(i.abs(l-p.y),1e3)),300),o=p.x,l=p.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}return o!=this.x||l!=this.y?((o>0||o<this.maxScrollX||l>0||l<this.maxScrollY)&&(d=a.ease.quadratic),void this.scrollTo(o,l,c,d)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var t=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,s){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,s)},scrollTo:function(t,e,i,s){s=s||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&s.style?(this._transitionTimingFunction(s.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,s.fn)},scrollToElement:function(t,e,s,n,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=a.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,s===!0&&(s=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=s||0,o.top-=n||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,r)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition()},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,s=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(s,"mousemove",this),i(s,"mousecancel",this),i(s,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(s,a.prefixPointerEvent("pointermove"),this),i(s,a.prefixPointerEvent("pointercancel"),this),i(s,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(s,"touchmove",this),i(s,"touchcancel",this),i(s,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e=t.getComputedStyle(this.scroller,null),i,s;return this.options.useTransform?(e=e[a.style.transform].split(")")[0].split(", "),i=+(e[12]||e[4]),s=+(e[13]||e[5])):(i=+e.left.replace(/[^-\d.]/g,""),s=+e.top.replace(/[^-\d.]/g,"")),{x:i,y:s}},_initIndicators:function(){function t(t){for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,s=[],o,a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(o={el:n("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(o.el),s.push(o)),this.options.scrollX&&(o={el:n("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(o.el),s.push(o))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var l=s.length;l--;)this.indicators.push(new r(this,s[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.stopPropagation();var e,s,n,r,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,s=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,s=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,s=t.wheelDeltaY/120*this.options.mouseWheelSpeed;
else if("wheelDelta"in t)e=s=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=s=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,s*=this.options.invertWheelDirection,!this.hasVerticalScroll,this.options.snap)return n=this.currentPage.pageX,r=this.currentPage.pageY,e>0?n--:0>e&&n++,s>0?r--:0>s&&r++,void this.goToPage(n,r);n=this.x+i.round(this.hasHorizontalScroll?e:0),r=this.y+i.round(this.hasVerticalScroll?s:0),n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(n,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t=0,e,s=0,n,r,o,a=0,l,h=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight,c;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(r=i.round(h/2),o=i.round(u/2);a>-this.scrollerWidth;){for(this.pages[t]=[],e=0,l=0;l>-this.scrollerHeight;)this.pages[t][e]={x:i.max(a,this.maxScrollX),y:i.max(l,this.maxScrollY),width:h,height:u,cx:a-r,cy:l-o},l-=u,e++;a-=h,t++}else for(c=this.options.snap,e=c.length,n=-1;e>t;t++)(0===t||c[t].offsetLeft<=c[t-1].offsetLeft)&&(s=0,n++),this.pages[s]||(this.pages[s]=[]),a=i.max(-c[t].offsetLeft,this.maxScrollX),l=i.max(-c[t].offsetTop,this.maxScrollY),r=a-i.round(c[t].offsetWidth/2),o=l-i.round(c[t].offsetHeight/2),this.pages[s][n]={x:a,y:l,width:c[t].offsetWidth,height:c[t].offsetHeight,cx:r,cy:o},a>this.maxScrollX&&s++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0,n=this.pages.length,r=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n>s;s++)if(t>=this.pages[s][0].cx){t=this.pages[s][0].x;break}for(n=this.pages[s].length;n>r;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return s==this.currentPage.pageX&&(s+=this.directionX,0>s?s=0:s>=this.pages.length&&(s=this.pages.length-1),t=this.pages[s][0].x),r==this.currentPage.pageY&&(r+=this.directionY,0>r?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:s,pageY:r}},goToPage:function(t,e,s,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var r=this.pages[t][e].x,o=this.pages[t][e].y;s=void 0===s?this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-this.x),1e3),i.min(i.abs(o-this.y),1e3)),300):s,this.currentPage={x:r,y:o,pageX:t,pageY:e},this.scrollTo(r,o,s,n)},next:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,s++),this.goToPage(i,s,t,e)},prev:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,s--),this.goToPage(i,s,t,e)},_initKeys:function(e){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},s;if("object"==typeof this.options.keyBindings)for(s in this.options.keyBindings)"string"==typeof this.options.keyBindings[s]&&(this.options.keyBindings[s]=this.options.keyBindings[s].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(s in i)this.options.keyBindings[s]=this.options.keyBindings[s]||i[s];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e=this.options.snap,s=e?this.currentPage.pageX:this.x,n=e?this.currentPage.pageY:this.y,r=a.getTime(),o=this.keyTime||0,l=.25,h;switch(this.options.useTransition&&this.isInTransition&&(h=this.getComputedPosition(),this._translate(i.round(h.x),i.round(h.y)),this.isInTransition=!1),this.keyAcceleration=200>r-o?i.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?s+=e?1:this.wrapperWidth:n+=e?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?s-=e?1:this.wrapperWidth:n-=e?1:this.wrapperHeight;break;case this.options.keyBindings.end:s=e?this.pages.length-1:this.maxScrollX,n=e?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:s=0,n=0;break;case this.options.keyBindings.left:s+=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=e?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:s-=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=e?1:5+this.keyAcceleration>>0;break;default:return}if(e)return void this.goToPage(s,n);s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollX&&(s=this.maxScrollX,this.keyAcceleration=0),n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollY&&(n=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(s,n,0),this.keyTime=r}},_animate:function(t,e,i,s){function n(){var d=a.getTime(),p,f,m;return d>=c?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"))):(d=(d-u)/i,m=s(d),p=(t-l)*m+l,f=(e-h)*m+h,r._translate(p,f),void(r.isAnimating&&o(n)))}var r=this,l=this.x,h=this.y,u=a.getTime(),c=u+i;this.isAnimating=!0,n()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e=t.touches?t.touches[0]:t,i,s,n,r,o=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,i=e.pageX-this.lastPointX,this.lastPointX=e.pageX,s=e.pageY-this.lastPointY,this.lastPointY=e.pageY,n=this.x+i,r=this.y+s,this._pos(n,r),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var s=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-s.x),1e3),i.min(i.abs(this.scroller.y-s.y),1e3)),300);(this.scroller.x!=s.x||this.scroller.y!=s.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=s,this.scroller.scrollTo(s.x,s.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var t=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,s=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),s)}}},s.utils=a,"undefined"!=typeof module&&module.exports?module.exports=s:t.IScroll=s}(window,document,Math),function($){popup=function(t){var e=this,i=document.getElementById(t)?$("#"+t).html():t,s='<div class="popup-bg"></div><div class="popup"><div class="popup-content"><button class="btn-close"></button></div></div>';e.hide=function(){document.documentElement.style.overflow="",$popup.velocity({opacity:0,translateY:20},{complete:function(){$(this).remove(),$bg.velocity({opacity:0},{complete:function(){$(this).remove()}})}})},e.show=function(){document.documentElement.style.overflow="hidden",$("body").append(s),$(".popup-content").append(i),$bg=$(".popup-bg"),$popup=$(".popup"),$bg.velocity({opacity:0},{duration:0,display:"auto"}).velocity({opacity:.9}),$popup.velocity({opacity:0,translateY:-40},{duration:0,display:"auto"}).velocity({opacity:1,translateY:0}),$(".popup").on("click",".btn-close",e.hide).on("click",e.hide).on("click",".popup-content",function(){return!1})}},$(".js-popup-btn").on("click",function(t){t.preventDefault(),linkPopup=new popup($(this).data("popup")),linkPopup.show()})}(jQuery),function($){$(".tabs").on("click",".tabs-item a",function(t){var e=$(this),i=$(this).parent(".tabs-item");t.preventDefault(),i.hasClass("is-active")||($(this).removeClass("is-active"),$(".tabs-item.is-active").removeClass("is-active"),$(".tabs-content-item.is-active").velocity({opacity:0,translateX:50},{duration:400,display:"none",begin:function(){$(".tabs-content").height($(e[0].hash).innerHeight())},complete:function(){i.addClass("is-active"),$(e[0].hash).velocity({translateX:-30},0).velocity({opacity:1,translateX:0},{duration:400,display:"block",complete:function(){$(this).addClass("is-active"),$(this).find(".overWrapper").each(function(t,e){iscroll_instance=new IScroll(e,{scrollbars:!0,scrollX:!0,scrollY:!1,mouseWheel:!0,interactiveScrollbars:!0,scrollbars:"custom",eventPassthrough:!0})})}})}}))})}(jQuery),function($){textSliderHeight=$(".js-text-slider .rsContent").height(),$(".js-text-slider").height(textSliderHeight).royalSlider({loop:!0,autoHeight:!0,autoPlay:{enabled:!0,pauseOnHover:!0,delay:5e3}}),$(".overWrapper, .nav-days").each(function(t,e){iscroll_instance=new IScroll(e,{scrollbars:!0,scrollX:!0,scrollY:!1,mouseWheel:!0,interactiveScrollbars:!0,scrollbars:"custom",eventPassthrough:!0})}),$linksSlider=$(".js-links-slider"),$linksSlider.royalSlider({imageScaleMode:"fill",slidesSpacing:0,globalCaption:!0,arrowsNavAutoHide:!1}),$linksSlider.length&&$(".rsGCaption").wrap('<div class="rsGCaption-helper"></div>'),$(".header + .page")[0]&&$(".header").addClass("is-visible"),$(window).scroll(function(t){var e=$(window).scrollTop();e>0&&!$(".header + .page")[0]?$(".header").addClass("is-visible"):0>=e&&!$(".header + .page")[0]&&$(".header").removeClass("is-visible")}),(ghost=function(){$ghost=$(".js-ghost"),$ghost.height($ghost.prev().innerHeight()-10)})(),setTimeout(ghost,100),$(window).resize(function(){$ghost.height($ghost.prev().innerHeight()-10)}),$(".header").on("click",".header-nav-toggle",function(){$(this).toggleClass("is-active")}),$(".js-btn-toggly").on("click",function(){$target=$($(this).data("toggly-target")),targetHeight=$target.data("toggly-height")?$target.data("toggly-height"):$target.innerHeight(),$target.hasClass("is-opened")?$target.velocity("reverse").removeClass("is-opened"):$target.velocity({height:targetHeight},{complete:function(){$target.data("toggly-is-map")&&startGoogleMap()}}).addClass("is-opened")}),window.PIE&&$(".collection-map-content-bg").each(function(){PIE.attach(this)})}(jQuery),function($){(updateCollectionHeight=function(){$(".collection-user .aligner").each(function(){$el=$(this),$el.height(function(){var t=$el.find(".collection-map-item").first(),e=$el.find(".collection-map-item").last();return e.offset().top-t.offset().top+e.height()+100})})})(),setTimeout(updateCollectionHeight,200),$(window).on("resize",updateCollectionHeight)}(jQuery);var sherlockMarkerPath="M47.7,23.6 C47.7,10.6 37.1,0 24.1,0 C11.1,0 0.5,10.6 0.5,23.6 L0.5,25 C1.4,47.3 24.1,66.7 24.1,66.7 C24.1,66.7 46.7,47.3 47.7,25 L47.7,23.6 L47.7,23.6 Z",sherlockLogoPath="M33.6,17.7 L30.3,17.7 C30.2,17.7 30.1,17.8 30.1,17.9 L30.1,28.8 C30.1,28.9 30.1,29 30,29.1 C29.6,29.5 27.6,31.5 27.6,31.5 L26.9,32.2 C26.8,32.3 26.7,32.3 26.6,32.2 C26.4,32 26.2,31.8 26.1,31.7 C26,31.6 25.9,31.4 25.9,31.2 L25.9,17.8 C25.9,17.6 25.8,17.6 25.7,17.6 L22.4,17.6 C22.3,17.6 22.2,17.7 22.2,17.8 L22.2,28.8 C22.2,28.9 22.2,28.9 22.1,29 C20.7,30.4 19,32.1 18.9,32.2 C18.8,32.3 18.7,32.3 18.6,32.2 C18.4,32 18.2,31.8 18.1,31.7 C18,31.6 17.9,31.4 17.9,31.2 L17.9,20.2 C17.9,20 17.8,19.9 17.7,19.7 C17.6,19.6 15.8,17.8 15.2,17.2 C15.1,17.1 15,17.1 14.8,17.2 L12.5,19.4 C12.4,19.5 12.4,19.7 12.5,19.8 C12.9,20.2 13.8,21.1 13.9,21.2 C14,21.3 14.1,21.5 14.1,21.7 L14.1,32.7 C14.1,32.9 14.2,33 14.3,33.2 C14.4,33.3 16.2,35.1 16.8,35.7 C16.9,35.8 17.1,35.8 17.2,35.7 L21.9,31 C22,30.9 22.1,31 22.1,31.1 L22.1,32.8 C22.1,33 22.2,33.1 22.3,33.3 C22.4,33.4 24.2,35.2 24.8,35.8 C24.9,35.9 25.1,35.9 25.2,35.8 L30,31.1 C30.1,31.1 30.1,31.1 30.1,31.2 L30.1,35.4 C30.1,35.6 30.2,35.6 30.3,35.6 L33.6,35.6 C33.7,35.6 33.8,35.5 33.8,35.4 L33.8,18 C33.8,17.7 33.8,17.7 33.6,17.7 L33.6,17.7 Z";markers={},placeMarker=function(t,e,i){var s={path:sherlockMarkerPath,fillColor:e,fillOpacity:1,strokeWeight:0,scale:1,anchor:new google.maps.Point(23,67)},n={path:sherlockLogoPath,fillColor:"white",fillOpacity:1,strokeWeight:0,scale:1,anchor:new google.maps.Point(23,67)},r=new google.maps.Marker({position:t,icon:s,map:map}),o=new google.maps.Marker({position:t,icon:n,map:map});markers[i.toString()]?markers[i.toString()].push([r,o]):markers[i.toString()]=[[r,o]]},function($){var t=$(".page-cover"),e=$("img.js-imageFill");imageFill=function(){e.css(t.height()>e.height()||t.width()<e.width()?{width:"auto",height:"100%"}:{width:"100%",height:"auto"})},$(e[0]).on("load",imageFill),$(window).resize(imageFill)}(jQuery),function($){$(".js-form").on("submit",function(t){t.preventDefault();var e=$(this);formAction=e.attr("action"),formData=e.serialize()}),$.listen("parsley:form:validate",function(t){$form=t.$element,t.isValid()?($form.find(".form-message").addClass("is-hidden"),$form.hasClass("js-form")&&$.ajax({url:formAction,data:formData,type:"post",error:function(){formPopup=new popup("<h3> Ошибка! Попробуйте снова. </h3>"),formPopup.show()},success:function(){formPopup=new popup($form.data("popup")),formPopup.show()}})):$form.find(".form-message").removeClass("is-hidden")})}(jQuery);